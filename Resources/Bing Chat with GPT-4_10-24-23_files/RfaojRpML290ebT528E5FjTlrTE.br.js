var __awaiter=this&&this.__awaiter||function(n,t,i,r){function u(n){return n instanceof i?n:new i(function(t){t(n)})}return new(i||(i=Promise))(function(i,f){function o(n){try{e(r.next(n))}catch(t){f(t)}}function s(n){try{e(r["throw"](n))}catch(t){f(t)}}function e(n){n.done?i(n.value):u(n.value).then(o,s)}e((r=r.apply(n,t||[])).next())})},__generator=this&&this.__generator||function(n,t){function o(n){return function(t){return s([n,t])}}function s(o){if(e)throw new TypeError("Generator is already executing.");while(f&&(f=0,o[0]&&(r=0)),r)try{if(e=1,u&&(i=o[0]&2?u["return"]:o[0]?u["throw"]||((i=u["return"])&&i.call(u),0):u.next)&&!(i=i.call(u,o[1])).done)return i;(u=0,i)&&(o=[o[0]&2,i.value]);switch(o[0]){case 0:case 1:i=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++;u=o[1];o=[0];continue;case 7:o=r.ops.pop();r.trys.pop();continue;default:if(!(i=r.trys,i=i.length>0&&i[i.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!i||o[1]>i[0]&&o[1]<i[3])){r.label=o[1];break}if(o[0]===6&&r.label<i[1]){r.label=i[1];i=o;break}if(i&&r.label<i[2]){r.label=i[2];r.ops.push(o);break}i[2]&&r.ops.pop();r.trys.pop();continue}o=t.call(n,r)}catch(s){o=[6,s];u=0}finally{e=i=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},e,u,i,f;return f={next:o(0),"throw":o(1),"return":o(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f},__spreadArray=this&&this.__spreadArray||function(n,t,i){if(i||arguments.length===2)for(var r=0,f=t.length,u;r<f;r++)!u&&r in t||(u||(u=Array.prototype.slice.call(t,0,r)),u[r]=t[r]);return n.concat(u||Array.prototype.slice.call(t))},SydFSCHelper;(function(n){function br(i){function nb(){return eg&&fg?lw||sw:eg?lw:fg?sw:!1}var lit=this,it,ft,et,ot,ht,ct,lt,at,vt,yt,pt,bt,dt,gt,ni,ii,ri,ei,oi,si,hi,ci,li,ai,vi,yi,wi,bi,ki,ir,rr,ur,fr,or,sr,hr,cr,lr,ar,vr,pr,wr,br,dr,nu,iu,ru,uu,au,vu,pu,ku,du,gu,nf,tf,rf,uf,ff,sf,hf,cf,lf,af,vf,yf,pf,wf,bf,kf,df,gf,ne,te,ie,re,ue,fe,ee,oe,se,he,ce,le,ae,ve,ye,pe,we,be,ke,de,ge,no,to,io,ro,uo,fo,eo,oo,so,ho,co,lo,ao,vo,yo,po,wo,bo,ko,go,ns,ts,is,rs,us,fs,es,os,ss,hs,cs,ls,as,vs,ys,ps,ws,bs,ks,ds,gs,nh,th,ih,rh,uh,fh,eh,oh,sh,hh,ch,lh,ah,vh,yh,ph,wh,bh,kh,dh,gh,nc,tc,ic,rc,uc,fc,ec,oc,sc,hc,cc,lc,ac,vc,yc,pc,wc,bc,kc,dc,gc,nl,tl,il,rl,ul,fl,el,ol,sl,hl,cl,ll,al,vl,yl,pl,wl,bl,kl,dl,gl,na,ta,ia,ra,ua,fa,ea,oa,sa,ha,ca,la,aa,va,ya,pa,wa,ba,ka,da,ga,nv,tv,iv,rv,uv,fv,ev,ov,sv,hv,cv,lv,av,vv,yv,pv,wv,bv,kv,dv,gv,ny,ty,iy,ry,uy,fy,ey,oy,sy,hy,cy,ly,ay,vy,yy,py,wy,by,ky,dy,gy,np,tp,ip,rp,up,fp,ep,op,sp,hp,cp,lp,ap,vp,yp,pp,wp,bp,kp,dp,gp,nw,tw,iw,rw,uw,fw,ew,aw,vw,hit,r,yw,e,s,v,y,f,pw,ww,o,bw,w,kw,dw,p,b,gw,h,g,cit,l,nt;i===void 0&&(i=null);n.isConfigSet=!0;var tb=t((it=_w._sydConvConfig)===null||it===void 0?void 0:it.country,!1),ib=t((ft=_w._sydConvConfig)===null||ft===void 0?void 0:ft.countryConfidence,!1),rb=t((et=_w._sydConvConfig)===null||et===void 0?void 0:et.state,!1),ub=t((ot=_w._sydConvConfig)===null||ot===void 0?void 0:ot.city,!1),fb=t((ht=_w._sydConvConfig)===null||ht===void 0?void 0:ht.cityConfidence,!1),eb=t((ct=_w._sydConvConfig)===null||ct===void 0?void 0:ct.zip,!1),ob=t((lt=_w._sydConvConfig)===null||lt===void 0?void 0:lt.timezoneoffset,!1),ait=t((at=_w._sydConvConfig)===null||at===void 0?void 0:at.enableTimezoneOffsetFromJS,!1),sb=t((vt=_w._sydConvConfig)===null||vt===void 0?void 0:vt.dma,!1),hb=t((yt=_w._sydConvConfig)===null||yt===void 0?void 0:yt.lat,!1),cb=t((pt=_w._sydConvConfig)===null||pt===void 0?void 0:pt.long,!1),vit=t((bt=_w._sydConvConfig)===null||bt===void 0?void 0:bt.userIpAddress,""),yit=t((dt=_w._sydConvConfig)===null||dt===void 0?void 0:dt.overrideSydOptions,!1),lb=t((gt=_w._sydConvConfig)===null||gt===void 0?void 0:gt.sydOptionSets,!1),ab=t((ni=_w._sydConvConfig)===null||ni===void 0?void 0:ni.voiceSrOptions,""),vb=t((ii=_w._sydConvConfig)===null||ii===void 0?void 0:ii.sydUrlPart,!1),ow=t((ri=_w._sydConvConfig)===null||ri===void 0?void 0:ri.isSydCorpnet,!1),pit=t((ei=_w._sydConvConfig)===null||ei===void 0?void 0:ei.enableSydOverlay,!1),wit=t((oi=_w._sydConvConfig)===null||oi===void 0?void 0:oi.enableEdgeMobileNativeTTS,!1),bit=t((si=_w._sydConvConfig)===null||si===void 0?void 0:si.isVisualParityRun,!1),sw=t((hi=_w._sydConvConfig)===null||hi===void 0?void 0:hi.isMSAAuthenticated,!1),kit=t((ci=_w._sydConvConfig)===null||ci===void 0?void 0:ci.userMailId,""),dit=t((li=_w._sydConvConfig)===null||li===void 0?void 0:li.username,""),yb=t((ai=_w._sydConvConfig)===null||ai===void 0?void 0:ai.sydBaseUrl,!1),a=t((vi=_w._sydConvConfig)===null||vi===void 0?void 0:vi.isCompliantSydneyEndpointEnabled,!1),hw=t((yi=_w._sydConvConfig)===null||yi===void 0?void 0:yi.isBingChatForEnterprise,!1),pb=t((wi=_w._sydConvConfig)===null||wi===void 0?void 0:wi.isBingChatForSchools,!1);ut=pb||hw;var wb=t((bi=_w._sydConvConfig)===null||bi===void 0?void 0:bi.sydIDs,""),bb=t((ki=_w._sydConvConfig)===null||ki===void 0?void 0:ki.traceId,""),git=t(_w._sydConvTranslation,{}),nrt=t((ir=_w._sydConvConfig)===null||ir===void 0?void 0:ir.enableSydMic,!1),trt=t((rr=_w._sydConvConfig)===null||rr===void 0?void 0:rr.enableSydShare,!1),irt=t((ur=_w._sydConvConfig)===null||ur===void 0?void 0:ur.enableMessageShareableSignal,!1),rrt=t((fr=_w._sydConvConfig)===null||fr===void 0?void 0:fr.addDv3Opt,!1),urt=t((or=_w._sydConvConfig)===null||or===void 0?void 0:or.addGenContentv3Opt,!1),frt=t((sr=_w._sydConvConfig)===null||sr===void 0?void 0:sr.enable161Feats,!0),ert=t((hr=_w._sydConvConfig)===null||hr===void 0?void 0:hr.enableAnsCardSuffix,!1),ort=t((cr=_w._sydConvConfig)===null||cr===void 0?void 0:cr.isAdultUser,!0),srt=t((lr=_w._sydConvConfig)===null||lr===void 0?void 0:lr.isMissingDob,!0),hrt=t((ar=_w._sydConvConfig)===null||ar===void 0?void 0:ar.removeDSAT,!0),kb=t((vr=_w._sydConvConfig)===null||vr===void 0?void 0:vr.enableErrorTelemetry,!1),db=t((pr=_w._sydConvConfig)===null||pr===void 0?void 0:pr.enableSpeechExperimentalFeatures,!1),gb=t((wr=_w._sydConvConfig)===null||wr===void 0?void 0:wr.enableSpeechChatDataAfterPhrase,!1),cw=t((br=_w._sydConvConfig)===null||br===void 0?void 0:br.enableSpeechEarconOnInput,!1),nk=t((dr=_w._sydConvConfig)===null||dr===void 0?void 0:dr.enableTTSOnSuggestionAfterVoice,!1),tk=t((nu=_w._sydConvConfig)===null||nu===void 0?void 0:nu.enableSimpleVoiceInput,!1),ik=t((iu=_w._sydConvConfig)===null||iu===void 0?void 0:iu.enableSpeechDictationMode,!1),rk=t((ru=_w._sydConvConfig)===null||ru===void 0?void 0:ru.enableAudioPreloadLimit,!1),uk=t((uu=_w._sydConvConfig)===null||uu===void 0?void 0:uu.enableSpeechFateTTSStop,!1),fk=t((au=_w._sydConvConfig)===null||au===void 0?void 0:au.enableSpeechGetUserMedia,!1),crt=t((vu=_w._sydConvConfig)===null||vu===void 0?void 0:vu.enableSydCLOC,!1),lrt=t((pu=_w._sydConvConfig)===null||pu===void 0?void 0:pu.enableCdxFeats,!1),ek=t((ku=_w._sydConvConfig)===null||ku===void 0?void 0:ku.cdxFeats,""),art=t((du=_w._sydConvConfig)===null||du===void 0?void 0:du.disableSecureUpdateConversation,!1),vrt=t((gu=_w._sydConvConfig)===null||gu===void 0?void 0:gu.disableSecureSendFeedback,!1),yrt=t((nf=_w._sydConvConfig)===null||nf===void 0?void 0:nf.enableFdbkFinalized,!1),prt=t((tf=_w._sydConvConfig)===null||tf===void 0?void 0:tf.enableSemSerpShare,!1),wrt=t((rf=_w._sydConvConfig)===null||rf===void 0?void 0:rf.enableCreatorShare,!1),brt=t((uf=_w._sydConvConfig)===null||uf===void 0?void 0:uf.enableShareModalDialog,!1),ok=t((ff=_w._sydConvConfig)===null||ff===void 0?void 0:ff.enableSydImageCreate,!1),krt=t((sf=_w._sydConvConfig)===null||sf===void 0?void 0:sf.enableSecureConnect,!0),sk=t((hf=_w._sydConvConfig)===null||hf===void 0?void 0:hf.enableInstanceAffinity,!1),drt=t((cf=_w._sydConvConfig)===null||cf===void 0?void 0:cf.enableShortOpt,!1),grt=t((lf=_w._sydConvConfig)===null||lf===void 0?void 0:lf.enablePuidOvr,!1),hk=t((af=_w._sydConvConfig)===null||af===void 0?void 0:af.enablePerfTrk,!1),nut=t((vf=_w._sydConvConfig)===null||vf===void 0?void 0:vf.enableEmbeddedPerf,!1),ck=t((yf=_w._sydConvConfig)===null||yf===void 0?void 0:yf.enableSinglePerfEventPerMessage,!1),tut=t((pf=_w._sydConvConfig)===null||pf===void 0?void 0:pf.enableE2EPerf,!1),lk=t((wf=_w._sydConvConfig)===null||wf===void 0?void 0:wf.enableUnauthRedir,!1),ak=t((bf=_w._sydConvConfig)===null||bf===void 0?void 0:bf.enableActionBarV2,!1),vk=t((kf=_w._sydConvConfig)===null||kf===void 0?void 0:kf.enableSpeechDictationBridgeMode,!1),yk=t((df=_w._sydConvConfig)===null||df===void 0?void 0:df.enableSpeculativeMode,!1),pk=t((gf=_w._sydConvConfig)===null||gf===void 0?void 0:gf.enableReadAloudMessage,!1),iut=t((ne=_w._sydConvConfig)===null||ne===void 0?void 0:ne.bypassMicPermissionsQuery,!1),wk=t((te=_w._sydConvConfig)===null||te===void 0?void 0:te.enableSpeechLanguageSetting,!1),bk=t((ie=_w._sydConvConfig)===null||ie===void 0?void 0:ie.enableSpeechAutoDetectLanguage,!1),kk=t((re=_w._sydConvConfig)===null||re===void 0?void 0:re.enableSpeechErrorHandling,!1),dk=t((ue=_w._sydConvConfig)===null||ue===void 0?void 0:ue.enableSpeechAriaLabel,!1),gk=t((fe=_w._sydConvConfig)===null||fe===void 0?void 0:fe.enableSpeechReopenMic,!1),nd=t((ee=_w._sydConvConfig)===null||ee===void 0?void 0:ee.enableSpeechTTSLatencyLogging,!1),td=t((oe=_w._sydConvConfig)===null||oe===void 0?void 0:oe.enableSpeechInputWhileRequestIsPending,!1),id=t((se=_w._sydConvConfig)===null||se===void 0?void 0:se.enableSpeechIconDarkTheme,!1),rut=t((he=_w._sydConvConfig)===null||he===void 0?void 0:he.enableNewTopicAutoExpand,!1),uut=t((ce=_w._sydConvConfig)===null||ce===void 0?void 0:ce.enableMaxTurnsPerConversation,!1),fut=t((le=_w._sydConvConfig)===null||le===void 0?void 0:le.enableAmberTurnPerConversation,!1),eut=t((ae=_w._sydConvConfig)===null||ae===void 0?void 0:ae.maxMessageLength,tr),lw=t((ve=_w._sydConvConfig)===null||ve===void 0?void 0:ve.isAccountLinkedWithActiveAAD,!1),out=t((ye=_w._sydConvConfig)===null||ye===void 0?void 0:ye.enableThreadsAADMSASwitch,!1),rd=t((pe=_w._sydConvConfig)===null||pe===void 0?void 0:pe.enableTelemetryPrivacy,!1),sut=t((we=_w._sydConvConfig)===null||we===void 0?void 0:we.enableSydSafeSearch,!1),hut=t((be=_w._sydConvConfig)===null||be===void 0?void 0:be.enableFeedbackClientSideScreenshot,!1),cut=t((ke=_w._sydConvConfig)===null||ke===void 0?void 0:ke.syntheticStreamSpeed,er),lut=t((de=_w._sydConvConfig)===null||de===void 0?void 0:de.disableShareWithNoMargin,!1),aut=t((ge=_w._sydConvConfig)===null||ge===void 0?void 0:ge.enableMobileShareAnchorBottom,!1),vut=t((no=_w._sydConvConfig)===null||no===void 0?void 0:no.enableCreativeLandingPage,!1),yut=t((to=_w._sydConvConfig)===null||to===void 0?void 0:to.enableServerLogMerging,!1),ud=t((io=_w._sydConvConfig)===null||io===void 0?void 0:io.enableOneClickCopy,!1),fd=t((ro=_w._sydConvConfig)===null||ro===void 0?void 0:ro.enableReorderCopiedTextReferences,!1),ed=t((uo=_w._sydConvConfig)===null||uo===void 0?void 0:uo.enableCodeCopy,!1),od=t((fo=_w._sydConvConfig)===null||fo===void 0?void 0:fo.enableCodeBar,!1),sd=t((eo=_w._sydConvConfig)===null||eo===void 0?void 0:eo.enableCodeBarV2,!1),hd=t((oo=_w._sydConvConfig)===null||oo===void 0?void 0:oo.enableUserMessageCopy,!1),cd=t((so=_w._sydConvConfig)===null||so===void 0?void 0:so.enableRichTextPaste,!1),ld=t((ho=_w._sydConvConfig)===null||ho===void 0?void 0:ho.enablePasteMarkdownTable,!1),ad=t((co=_w._sydConvConfig)===null||co===void 0?void 0:co.enablePasteMath,!1),put=t((lo=_w._sydConvConfig)===null||lo===void 0?void 0:lo.enableSkipContentOriginCheck,!1),wut=t((ao=_w._sydConvConfig)===null||ao===void 0?void 0:ao.enableMobileOneClickShare,!1),but=t((vo=_w._sydConvConfig)===null||vo===void 0?void 0:vo.enableMobileOneClickShareV2,!1),kut=t((yo=_w._sydConvConfig)===null||yo===void 0?void 0:yo.enableFeedbackInstrumentation,!1),dut=t((po=_w._sydConvConfig)===null||po===void 0?void 0:po.enableSuggEndFix,!1),gut=t((wo=_w._sydConvConfig)===null||wo===void 0?void 0:wo.enableAutoRecoverFromInvalidSession,!1),nft=t((bo=_w._sydConvConfig)===null||bo===void 0?void 0:bo.enableAutoRecoverFromInvalidSessionForFirstTurn,!1),tft=t((ko=_w._sydConvConfig)===null||ko===void 0?void 0:ko.enableActionBarIMEFix,!1),ift=t((go=_w._sydConvConfig)===null||go===void 0?void 0:go.enableGhostTrailingSpaceByLanguage,!1),vd=t((ns=_w._sydConvConfig)===null||ns===void 0?void 0:ns.enableInlineFeedback,!1),yd=t((ts=_w._sydConvConfig)===null||ts===void 0?void 0:ts.enableInlineFeedbackV2,!1),pd=t((is=_w._sydConvConfig)===null||is===void 0?void 0:is.enableInlineFeedbackV21,!1),wd=t((rs=_w._sydConvConfig)===null||rs===void 0?void 0:rs.enableSerpFeedback,!1),bd=t((us=_w._sydConvConfig)===null||us===void 0?void 0:us.enableMessageExport,!1),kd=t((fs=_w._sydConvConfig)===null||fs===void 0?void 0:fs.enableMessageExportWithPlainText,!1),rft=t((es=_w._sydConvConfig)===null||es===void 0?void 0:es.enableMessageExportOnlineWord,!1),uft=t((os=_w._sydConvConfig)===null||os===void 0?void 0:os.enableMessageExportWord,!1),fft=t((ss=_w._sydConvConfig)===null||ss===void 0?void 0:ss.enableMessageExportOnlineExcel,!1),dd=t((hs=_w._sydConvConfig)===null||hs===void 0?void 0:hs.enableMessageExportLocalExcel,!1),gd=t((cs=_w._sydConvConfig)===null||cs===void 0?void 0:cs.enableTableBarFlatActions,!1),eft=t((ls=_w._sydConvConfig)===null||ls===void 0?void 0:ls.enableThreadExportLocalWord,!1),oft=t((as=_w._sydConvConfig)===null||as===void 0?void 0:as.enableThreadExportOnlineWord,!1),ng=t((vs=_w._sydConvConfig)===null||vs===void 0?void 0:vs.enableMessageExportV2,!1),tg=t((ys=_w._sydConvConfig)===null||ys===void 0?void 0:ys.enableBotMessageActionsBar,!1),ig=t((ps=_w._sydConvConfig)===null||ps===void 0?void 0:ps.enableShorterToastDuration,!1),rg=t((ws=_w._sydConvConfig)===null||ws===void 0?void 0:ws.enableDirectlyOpenExportOnlineLink,!1),ug=t((bs=_w._sydConvConfig)===null||bs===void 0?void 0:bs.enableLoginHintForSSO,!1),fg=t((ks=_w._sydConvConfig)===null||ks===void 0?void 0:ks.enableLimitToMsaOnlineExport,!1),eg=t((ds=_w._sydConvConfig)===null||ds===void 0?void 0:ds.enableLimitToAadOnlineExport,!1),og=t((gs=_w._sydConvConfig)===null||gs===void 0?void 0:gs.enableTonePreview,!1),sg=t((nh=_w._sydConvConfig)===null||nh===void 0?void 0:nh.enableMSAuth1stPartyApp,!1),hg=t((th=_w._sydConvConfig)===null||th===void 0?void 0:th.enableAdsRedirectLinkForTextMessage,!1),cg=t((ih=_w._sydConvConfig)===null||ih===void 0?void 0:ih.enableCopyHtml,!1),lg=t((rh=_w._sydConvConfig)===null||rh===void 0?void 0:rh.enableCopyHtmlWithHighlightedCode,!1),ag=t((uh=_w._sydConvConfig)===null||uh===void 0?void 0:uh.enableExportPdfWithAnswerScreenshot,!1),vg=t((fh=_w._sydConvConfig)===null||fh===void 0?void 0:fh.enableExportDocxWithAnswerScreenshot,!1),yg=t((eh=_w._sydConvConfig)===null||eh===void 0?void 0:eh.enableLibrariesSplitImport,!1),pg=t((oh=_w._sydConvConfig)===null||oh===void 0?void 0:oh.enableFlatActionBar,!1),wg=t((sh=_w._sydConvConfig)===null||sh===void 0?void 0:sh.codexMUIDUser,!1),bg=t((hh=_w._sydConvConfig)===null||hh===void 0?void 0:hh.enableFixCodeXAsBug,!1),kg=t((ch=_w._sydConvConfig)===null||ch===void 0?void 0:ch.enableChatIconClickable,!1),dg=t((lh=_w._sydConvConfig)===null||lh===void 0?void 0:lh.enableChatQueryClickable,!1),gg=t((ah=_w._sydConvConfig)===null||ah===void 0?void 0:ah.enableChatQueryClickableV2,!1),nn=t((vh=_w._sydConvConfig)===null||vh===void 0?void 0:vh.enableChatQueryClickableV3,!1),tn=t((yh=_w._sydConvConfig)===null||yh===void 0?void 0:yh.enableChatQueryClickableV4,!1),rn=t((ph=_w._sydConvConfig)===null||ph===void 0?void 0:ph.enableShareQuestionWithResponse,!1),un=t((wh=_w._sydConvConfig)===null||wh===void 0?void 0:wh.enableDynamicShareTitle,!1),fn=t((bh=_w._sydConvConfig)===null||bh===void 0?void 0:bh.enableShareQuestionTitlePrefix,!1),en=t((kh=_w._sydConvConfig)===null||kh===void 0?void 0:kh.enableShareInlineAdsIframe,!1),on=t((dh=_w._sydConvConfig)===null||dh===void 0?void 0:dh.enableSharePreview,!1),sn=t((gh=_w._sydConvConfig)===null||gh===void 0?void 0:gh.enableSharedHoverCitations,!1),hn=t((nc=_w._sydConvConfig)===null||nc===void 0?void 0:nc.enableShowShareButtonWithSecurityCheck,!1),cn=t((tc=_w._sydConvConfig)===null||tc===void 0?void 0:tc.enableScreenshotIgnoreOnCibSerp,!1),ln=t((ic=_w._sydConvConfig)===null||ic===void 0?void 0:ic.enableStandaloneUtility,!1);n.enableCreatorSendQueryWhenShowConvQuery=t((rc=_w._sydConvConfig)===null||rc===void 0?void 0:rc.enableCreatorSendQueryWhenShowConvQuery,!0);n.padding2TMobile=t((uc=_w._sydConvConfig)===null||uc===void 0?void 0:uc.padding2TMobile,!0);kt=t((fc=_w._sydConvConfig)===null||fc===void 0?void 0:fc.enableSetConvQueryFlag,!1);k=t((ec=_w._sydConvTranslation)===null||ec===void 0?void 0:ec.pageTitleText,"");d=document.title||"";rt=ut?yr:wt;n.enableConvModeSwitchAjax=t((oc=_w._sydConvConfig)===null||oc===void 0?void 0:oc.enableConvModeSwitchAjax,!1);var gst=t((sc=_w._sydConvConfig)===null||sc===void 0?void 0:sc.enableCodexWin,!1),nht=t((hc=_w._sydConvConfig)===null||hc===void 0?void 0:hc.enableCodexWinBotMessage,!1),tht=t((cc=_w._sydConvConfig)===null||cc===void 0?void 0:cc.codexWinCurrentTurn,0),sft=t((lc=_w._sydConvConfig)===null||lc===void 0?void 0:lc.enableGetChats,!1),hft=t((ac=_w._sydConvConfig)===null||ac===void 0?void 0:ac.enableDelayGetChats,!1),an=t((vc=_w._sydConvConfig)===null||vc===void 0?void 0:vc.enableNewTables,!1),cft=t((yc=_w._sydConvConfig)===null||yc===void 0?void 0:yc.codexTableVersion,1),vn=t((pc=_w._sydConvConfig)===null||pc===void 0?void 0:pc.enableBufferMessage,!1),yn=t((wc=_w._sydConvConfig)===null||wc===void 0?void 0:wc.enableBufferLoadingDots,!1),pn=t((bc=_w._sydConvConfig)===null||bc===void 0?void 0:bc.enableServerMetaText,!1),wn=t((kc=_w._sydConvConfig)===null||kc===void 0?void 0:kc.enableOptimizedStreaming,!1),lft=t((dc=_w._sydConvConfig)===null||dc===void 0?void 0:dc.enableExportDocxWithFormat,!1),aft=t((gc=_w._sydConvConfig)===null||gc===void 0?void 0:gc.enableDisposeOrphanedHosts,!1),vft=t((nl=_w._sydConvConfig)===null||nl===void 0?void 0:nl.enablePreserveTextFormat,!1),yft=t((tl=_w._sydConvConfig)===null||tl===void 0?void 0:tl.enableHoverCardOnLearnMorePills,!1),pft=t((il=_w._sydConvConfig)===null||il===void 0?void 0:il.enableWowCDSSurvey,!1),bn=t((rl=_w._sydConvConfig)===null||rl===void 0?void 0:rl.enableSydBeacon,!1),wft=t((ul=_w._sydConvConfig)===null||ul===void 0?void 0:ul.enableShareOnHostMessage,!1),bft=t((fl=_w._sydConvConfig)===null||fl===void 0?void 0:fl.disablePassBotGreetingInContext,!1),kn=t((el=_w._sydConvConfig)===null||el===void 0?void 0:el.enableThreadContextMenu,!1),kft=t((ol=_w._sydConvConfig)===null||ol===void 0?void 0:ol.enableCloudflareCaptcha,!1),dft=t((sl=_w._sydConvConfig)===null||sl===void 0?void 0:sl.enableInvisibleCaptchaChallenge,!1),gft=t((hl=_w._sydConvConfig)===null||hl===void 0?void 0:hl.enableResizeObserverWithAnimationFrame,!1),net=t((cl=_w._sydConvConfig)===null||cl===void 0?void 0:cl.enableKnowledgeCardImage,!1),dn=t((ll=_w._sydConvConfig)===null||ll===void 0?void 0:ll.enableStartPromotion,!1),tet=t((al=_w._sydConvConfig)===null||al===void 0?void 0:al.enableCopyButtonInstrumented,!1),iet=t((vl=_w._sydConvConfig)===null||vl===void 0?void 0:vl.enableThreadSync,!1),ret=t((yl=_w._sydConvConfig)===null||yl===void 0?void 0:yl.enableMobileKnowledgeCardOverlay,!1),uet=t((pl=_w._sydConvConfig)===null||pl===void 0?void 0:pl.enableCibOverlayForKnowledgeCard,!1),fet=t((wl=_w._sydConvConfig)===null||wl===void 0?void 0:wl.enableFlux3P,!1),eet=t((bl=_w._sydConvConfig)===null||bl===void 0?void 0:bl.enablePluginsByTone,!1),iht=t((kl=_w._sydConvConfig)===null||kl===void 0?void 0:kl.flux3PPluginList,""),gn=t((dl=_w._sydConvConfig)===null||dl===void 0?void 0:dl.disableWelcomeScreen,!1),oet=t((gl=_w._sydConvConfig)===null||gl===void 0?void 0:gl.enableWelcomeScreenV2,!1),set=t((na=_w._sydConvConfig)===null||na===void 0?void 0:na.enableChatFRE,!1),ntt=t((ta=_w._sydConvConfig)===null||ta===void 0?void 0:ta.enableWebPageContextMessages,!1),het=t((ia=_w._sydConvConfig)===null||ia===void 0?void 0:ia.enableCodexPluginb,!1),cet=t((ra=_w._sydConvConfig)===null||ra===void 0?void 0:ra.enableNewAutoSuggestEndPoint,!1),aet=t((ua=_w._sydConvConfig)===null||ua===void 0?void 0:ua.enable2TQueryConfigsOnSerpLoad,!1),vet=t((fa=_w._sydConvConfig)===null||fa===void 0?void 0:fa.enableSydStaticAdsLink,!1),yet=t((ea=_w._sydConvConfig)===null||ea===void 0?void 0:ea.isMobileHost,!1),pet=t((oa=_w._sydConvConfig)===null||oa===void 0?void 0:oa.enableRenderCardRequestIMSearchParams,!1),ttt=t((sa=_w._sydConvConfig)===null||sa===void 0?void 0:sa.enableMessagePrivacy,!1),itt=t((ha=_w._sydConvConfig)===null||ha===void 0?void 0:ha.enableCloseShareOnClickOutside,!1),wet=t((ca=_w._sydConvConfig)===null||ca===void 0?void 0:ca.enableTypingIndicatorForSerpSlotCreator,!1),bet=t((la=_w._sydConvConfig)===null||la===void 0?void 0:la.enableOnProcessingStartEvent,!1),ket=t((aa=_w._sydConvConfig)===null||aa===void 0?void 0:aa.enableOnProcessingCompleteEvent,!1),rtt=t((va=_w._sydConvConfig)===null||va===void 0?void 0:va.enableUpdateProfile,!1),det=t((ya=_w._sydConvConfig)===null||ya===void 0?void 0:ya.enableTypewriter,!1),get=t((pa=_w._sydConvConfig)===null||pa===void 0?void 0:pa.enableConfirmPromptSingleDeleteThread,!1),not=!t((wa=_w._sydConvConfig)===null||wa===void 0?void 0:wa.disableTooltip,!1),tot=t((ba=_w._sydConvConfig)===null||ba===void 0?void 0:ba.enableNewlineTooltip,!1),iot=t((ka=_w._sydConvConfig)===null||ka===void 0?void 0:ka.enableDeferredImageCreatorCard,!1),rot=t((da=_w._sydConvConfig)===null||da===void 0?void 0:da.enableSaharaStream,!1),uot=t((ga=_w._sydConvConfig)===null||ga===void 0?void 0:ga.enableFaviconsV2,!1),fot=t((nv=_w._sydConvConfig)===null||nv===void 0?void 0:nv.enableFaviconsAutoRefresh,!1),eot=t((tv=_w._sydConvConfig)===null||tv===void 0?void 0:tv.enableCachedContentFixForIsStartOfSession,!1),oot=t((iv=_w._sydConvConfig)===null||iv===void 0?void 0:iv.enableUserIpAddress,!1),sot=t((rv=_w._sydConvConfig)===null||rv===void 0?void 0:rv.enableLooseMessageDensity,!1),utt=t((uv=_w._sydConvConfig)===null||uv===void 0?void 0:uv.enableSuggestionItemEnterAnimation,!1),ftt=t((fv=_w._sydConvConfig)===null||fv===void 0?void 0:fv.enableKatexScroll,!1),hot=t((ev=_w._sydConvConfig)===null||ev===void 0?void 0:ev.enableLinkPreviewCarousel,!1),cot=t((ov=_w._sydConvConfig)===null||ov===void 0?void 0:ov.useFakeDataForLinkPreviewCarousel,!1),ett=t((sv=_w._sydConvConfig)===null||sv===void 0?void 0:sv.enablePageHeaderOverlapClamping,!1),lot=t((hv=_w._sydConvConfig)===null||hv===void 0?void 0:hv.enableThreadShowPlugins,!1),aot=t((cv=_w._sydConvConfig)===null||cv===void 0?void 0:cv.enableUpdateUserMessageId,!1),vot=t((lv=_w._sydConvConfig)===null||lv===void 0?void 0:lv.enableUserMessageIdConsistency,!1),yot=t((av=_w._sydConvConfig)===null||av===void 0?void 0:av.enablePluginPanelFre,!1),pot=t((vv=_w._sydConvConfig)===null||vv===void 0?void 0:vv.enablePersistentInputText,!1),ott=t((yv=_w._sydConvConfig)===null||yv===void 0?void 0:yv.enableEmptyThreadTime,!1),wot=t((pv=_w._sydConvConfig)===null||pv===void 0?void 0:pv.enableRenderIframeCardRequest,!1),stt=t((wv=_w._sydConvConfig)===null||wv===void 0?void 0:wv.enableBackendExportService,!1),bot=t((bv=_w._sydConvConfig)===null||bv===void 0?void 0:bv.enableFastChatLoadAnimation,!1),kot=t((kv=_w._sydConvConfig)===null||kv===void 0?void 0:kv.enableShareInThreadsHeader,!0),rht=t((dv=_w._sydConvConfig)===null||dv===void 0?void 0:dv.enableExternalSpeechIconAnimation,!1),dot=t((gv=_w._sydConvConfig)===null||gv===void 0?void 0:gv.enableNewConversationActivate,!1),htt=t((ny=_w._sydConvConfig)===null||ny===void 0?void 0:ny.enableInPrivateUserMode,!1),got=t((ty=_w._sydConvConfig)===null||ty===void 0?void 0:ty.enableMobileFirstClickShare,!1),ctt=t((iy=_w._sydConvConfig)===null||iy===void 0?void 0:iy.enableSydneyGetMessagesHub,!1),nst=t((ry=_w._sydConvConfig)===null||ry===void 0?void 0:ry.enableInlinePersonalizationConsent,!1),tst=t((uy=_w._sydConvConfig)===null||uy===void 0?void 0:uy.personalizationInlineConsentTurn,nr),ist=t((fy=_w._sydConvConfig)===null||fy===void 0?void 0:fy.enableEduStarterMessage,!1),rst=t((ey=_w._sydConvConfig)===null||ey===void 0?void 0:ey.enableEduStarterMessageAnimation,!1),ust=t((oy=_w._sydConvConfig)===null||oy===void 0?void 0:oy.enablePhonePlugin,!1),fst=t((sy=_w._sydConvConfig)===null||sy===void 0?void 0:sy.enablePhonePluginDogfoodEnvironment,!1),est=t((hy=_w._sydConvConfig)===null||hy===void 0?void 0:hy.enablePhonePluginBetaEnvironment,!1),ost=t((cy=_w._sydConvConfig)===null||cy===void 0?void 0:cy.enablePhonePluginProductionEnvironment,!1),ltt=t((ly=_w._sydConvConfig)===null||ly===void 0?void 0:ly.enableVersionedApiCalls,!1),att=t((ay=_w._sydConvConfig)===null||ay===void 0?void 0:ay.enableJWTFTRFix,!1),sst=t((vy=_w._sydConvConfig)===null||vy===void 0?void 0:vy.enablePaywallTelemetryFix,!1),hst=t((yy=_w._sydConvConfig)===null||yy===void 0?void 0:yy.enableNoBingSearchResponseBackground,!1),cst=t((py=_w._sydConvConfig)===null||py===void 0?void 0:py.enableNoSearchPluginMetaMessage,!1),vtt=t((wy=_w._sydConvConfig)===null||wy===void 0?void 0:wy.enableOpenEdgeNotification,!1),ytt=t((by=_w._sydConvConfig)===null||by===void 0?void 0:by.enableSuppressSigninMessage,!1),ptt=t((ky=_w._sydConvConfig)===null||ky===void 0?void 0:ky.enableExportPdfWithRichFormat,!1),wtt=t((dy=_w._sydConvConfig)===null||dy===void 0?void 0:dy.enableAttributionImages,!1),btt=t((gy=_w._sydConvConfig)===null||gy===void 0?void 0:gy.enableAttributionImagesWhenAdsPresent,!1),ktt=t((np=_w._sydConvConfig)===null||np===void 0?void 0:np.enableAttributionImagesCarousel,!1),dtt=t((tp=_w._sydConvConfig)===null||tp===void 0?void 0:tp.enableAttributionImagesClickthrough,!1),lst=t((ip=_w._sydConvConfig)===null||ip===void 0?void 0:ip.enableThreadsConsent,!1),gtt=t((rp=_w._sydConvConfig)===null||rp===void 0?void 0:rp.enableDeleteSingleConversationMemory,!1),ast=t((up=_w._sydConvConfig)===null||up===void 0?void 0:up.enableThreadsTopRightButton,!1),vst=t((fp=_w._sydConvConfig)===null||fp===void 0?void 0:fp.enablePluginsTopRightButton,!1),nit=t((ep=_w._sydConvConfig)===null||ep===void 0?void 0:ep.enableOneDs,!1),tit=t((op=_w._sydConvConfig)===null||op===void 0?void 0:op.enableStableAutosuggestion,!1),yst=t((sp=_w._sydConvConfig)===null||sp===void 0?void 0:sp.enableSydneyFSCTranslationSrc,!1),pst=t(_w._sydConvConfig.enableBceMuidConsent,!1),iit=t((hp=_w._sydConvConfig)===null||hp===void 0?void 0:hp.enableThreadContextMenuV2,!1),rit=t((cp=_w._sydConvConfig)===null||cp===void 0?void 0:cp.enableSearchBoxAutoFocus,!1),uit=t((lp=_w._sydConvConfig)===null||lp===void 0?void 0:lp.enableUserMessageRewriteInsteadOfCopy,!1),fit=t((ap=_w._sydConvConfig)===null||ap===void 0?void 0:ap.enableUserMessageRewriteAndCopy,!1),eit=t((vp=_w._sydConvConfig)===null||vp===void 0?void 0:vp.enablePrivateThreadDefaultTitle,!1),oit=t((yp=_w._sydConvConfig)===null||yp===void 0?void 0:yp.enablePromptHandling,!1),wst=t((pp=_w._sydConvConfig)===null||pp===void 0?void 0:pp.enableU18Scenario,!1),bst=t((wp=_w._sydConvConfig)===null||wp===void 0?void 0:wp.enablePluginDevTools,!1),sit=t((bp=_w._sydConvConfig)===null||bp===void 0?void 0:bp.enableModeAndSlotValidationForAds,!1),kst=t((kp=_w._sydConvConfig)===null||kp===void 0?void 0:kp.enableLogNoChatVariant,!1),dst=t((dp=_w._sydConvConfig)===null||dp===void 0?void 0:dp.enableVersionPrompt,!1);if(kr(),aw=t((gp=_w._sydConvConfig)===null||gp===void 0?void 0:gp.enableFixOnReplaceAllJSError,!1),vw=t((nw=_w._sydConvConfig)===null||nw===void 0?void 0:nw.enableNotebookMode,!1),vw&&(CIB.config.features.enableNotebookMode=vw),htt&&(CIB.config.features.enableInPrivateUserMode=htt),sj_evt.bind("showSydFSC",ti),pft&&(CIB.config.features.enableWowCDSSurvey=!0),sot&&(CIB.config.messaging.messageDensity="loose"),utt&&(CIB.config.features.enableSuggestionItemEnterAnimation=utt),ftt&&(CIB.config.features.enableKatexScroll=ftt),CIB.config.features.enableVersionPrompt=dst,hit=_ge("cib-design-tokens"),hit||CIB.activateDesignTokens(),r={},tb&&(r.country=tb),rb&&(r.state=rb),ub&&(r.city=ub),eb&&(r.zipcode=eb),ait||a?r.timezoneoffset=-((new Date).getTimezoneOffset()/60):ob&&(r.timezoneoffset=parseFloat(ob)),sb&&(r.dma=sb),hb&&(r.latitude=parseFloat(hb)),cb&&(r.longitude=parseFloat(cb)),ib&&(r.countryConfidence=ib),fb&&(r.cityConfidence=fb),a?(yw=Intl.DateTimeFormat().resolvedOptions().timeZone,yw&&(r.timezone=yw),CIB.config.sydney.message.locationInfo=r):i&&typeof i.locations!="undefined"&&typeof i.locations.locationsList!="undefined"?typeof SydneyFSCLocationHelper!="undefined"&&typeof SydneyFSCLocationHelper.writeToLocationHints!="undefined"&&SydneyFSCLocationHelper.writeToLocationHints(i):i&&typeof i.cookLoc!="undefined"?(e=[],i.cookLoc.userLoc&&(s=st(i.cookLoc.userLoc,!1),s.RegionType=1,s.SourceType=2,s.FDConfidence=1,e.push(s)),i.cookLoc.deviceLoc&&(v=st(i.cookLoc.deviceLoc,!1),v.RegionType=2,v.SourceType=5,e.push(v)),crt&&i.cookLoc.coarseLoc&&(y=st(i.cookLoc.coarseLoc,!1),y.RegionType=2,y.SourceType=11,e.push(y)),f=r,f.Center={Latitude:f.latitude,Longitude:f.longitude},delete f.latitude,delete f.longitude,f.RegionType=2,f.SourceType=1,e.push(f),CIB.config.sydney.message.locationHints=e):CIB.config.sydney.message.locationinfo=r,oot&&(CIB.config.sydney.message.userIpAddress=vit),CIB.config.sydney.message.timestamp=ef(),yst?sj_evt.bind("sydConvTranslationLoaded",ui,!0):fi(git),ltt&&(CIB.config.features.enableVersionedApiCalls=ltt),att&&(CIB.config.features.enableJWTFTRFix=att),sft&&(CIB.config.features.enableGetChats=!0),hft&&(CIB.config.features.enableDelayGetChats=!0),iet&&(CIB.config.features.enableThreadSync=!0),det&&(CIB.config.features.enableTypewriterEffectForThreadName=!0),rot&&(CIB.config.features.enableSaharaSyntheticStreaming=!0),uot&&(CIB.config.features.enableFaviconV2=!0),fot&&(CIB.config.features.enableFaviconAutoRefresh=!0),eot&&(CIB.config.features.enableCachedContentFixForIsStartOfSession=!0),fet&&(CIB.config.features.enableFlux3P=!0,typeof CIB.config.plugin=="undefined"&&(CIB.config.plugin={})),nst){CIB.config.features.enableInlinePersonalizationConsent=!0;CIB.config.messaging.personalizationInlineConsentTurn=tst;try{fetch("/turing/userconsent")}catch(uht){}}if(eet&&(CIB.config.features.enablePluginsByTone=!0),bst&&(CIB.config.features.enablePluginDevTools=!0),get&&(CIB.config.features.enableConfirmPromptForDeleteSingleThread=!0),iot&&(CIB.config.features.enableDeferredImageCreatorCard=!0),het&&(CIB.config.features.enableOpenTableBookBlueLink=!0),pet&&(CIB.config.features.enableRenderCardRequestIMSearchParams=!0),hot&&(CIB.config.features.enableLinkPreviewCarousel=!0),cot&&(CIB.config.features.useFakeDataForLinkPreviewCarousel=!0),lot&&(CIB.config.features.enableThreadShowPlugins=!0),aot&&(CIB.config.features.enableUpdateUserMessageId=!0),vot&&(CIB.config.features.enableUserMessageIdConsistency=!0),yot&&(CIB.config.features.enablePluginPanelFre=!0),wot&&(CIB.config.features.enableRenderIframeCardRequest=!0),ist&&(CIB.config.features.enableFreEducationalStarter=!0),rst&&(CIB.config.features.enableFreEducationalStarterAnimation=!0),ust&&(CIB.config.features.enablePhonePlugin=!0),ost&&(CIB.config.features.enablePhonePluginProductionEnvironment=!0),est&&(CIB.config.features.enablePhonePluginBetaEnvironment=!0),fst&&(CIB.config.features.enablePhonePluginDogfoodEnvironment=!0),hst&&(CIB.config.features.enableNoBingSearchResponseBackground=!0),cst&&(CIB.config.features.enableNoSearchPluginMetaMessage=!0),pw=new URLSearchParams(_w.location.search),ww=pw.get(gi.toLowerCase()),(ab!=""||ow&&ww)&&(o=CIB.config.speech.srOptions?CIB.config.speech.srOptions:[],o=c(o,ab),ow&&(o=c(o,ww)),CIB.config.speech.srOptions=o),cw&&(CIB.config.speech.srOptions||(CIB.config.speech.srOptions=[]),CIB.config.speech.srOptions.push("earcon")),CIB.config.sydney.isAdultUser=srt?null:ort,hrt&&(bw=CIB.config.sydney.request.optionsSets.indexOf("enable_debug_commands"),bw>=0&&CIB.config.sydney.request.optionsSets.splice(bw,1)),rrt&&u(CIB.config.sydney.request.optionsSets,"dv3sugg"),urt&&u(CIB.config.sydney.request.optionsSets,"gencontentv3"),drt&&u(CIB.config.sydney.request.optionsSets,"prodshortv4"),yit&&lb!=""&&(CIB.config.sydney.request.optionsSets=c([],lb)),lrt){if(ek)for(p=ek.split(","),w=0,kw=p;w<kw.length;w++)h=kw[w],CIB.config.features[h]=!0;if(dw=pw.get(di.toLowerCase()),ow&&dw)for(p=dw.split(","),b=0,gw=p;b<gw.length;b++)h=gw[b],h.indexOf(":")>=0&&(g=h.split(":"),g.length==2&&(CIB.config.features[g[0]]=g[1]))}if(wb&&(cit=wb.split(","),CIB.config.sydney.request.sliceIds=cit),CIB.config.bing.isVisualParityRun=bit,CIB.config.bing.isMSAAuthenticated=sw,CIB.config.bing.userMailId=kit,CIB.config.bing.username=dit,yb&&(CIB.config.sydney.baseUrl=yb),vb!=""&&(CIB.config.sydney.pathBase=vb),db&&(CIB.config.features.enableSpeechExperimental=db),gb&&(CIB.config.features.enableSpeechChatDataAfterPhrase=gb),cw&&(CIB.config.features.enableSpeechEarconOnInput=cw),nk&&(CIB.config.features.enableTTSOnSuggestionAfterVoice=nk),tk&&(CIB.config.features.enableSimpleVoiceInput=tk),ik&&(CIB.config.features.enableSpeechDictationMode=ik),rk&&(CIB.config.features.enableAudioPreloadLimit=rk),uk&&(CIB.config.features.enableSpeechFateTTSStop=uk),fk&&(CIB.config.features.enableSpeechGetUserMedia=fk),kk&&(CIB.config.features.enableSpeechErrorHandling=kk),nd&&(CIB.config.features.enableSpeechTTSLatencyLogging=nd),td&&(CIB.config.features.enableSpeechInputWhileRequestIsPending=td),id&&(CIB.config.features.enableSpeechIconDarkTheme=id),dk&&(CIB.config.features.enableSpeechAriaLabel=dk),gk&&(CIB.config.features.enableSpeechReopenMic=gk),wit&&(CIB.config.speech.textToSpeechProvider=SydneySuperAppConnector.getTextToSpeechProvider),bg&&(CIB.config.features.enableFixCodeXAsBug=bg),tit&&(CIB.config.features.enableStableAutosuggestion=tit),kg&&(CIB.config.features.enableChatIconClickable=kg),dg&&(CIB.config.features.enableChatQueryClickable=dg),gg&&(CIB.config.features.enableChatQueryClickableV2=gg),nn&&(CIB.config.features.enableChatQueryClickableV3=nn),tn&&(CIB.config.features.enableChatQueryClickableV4=tn),rn&&(CIB.config.features.enableShareQuestionWithResponse=rn),un&&(CIB.config.features.enableDynamicShareTitle=un),fn&&(CIB.config.features.enableShareQuestionTitlePrefix=fn),en&&(CIB.config.features.enableShareInlineAdsIframe=en),on&&(CIB.config.features.enableSharePreview=on),sn&&(CIB.config.features.enableSharedHoverCitations=sn),cn&&(CIB.config.features.enableScreenshotIgnoreOnCibSerp=cn),ln&&(CIB.config.features.enableStandaloneUtility=ln),CIB.config.speech.animationProvider=function(){var n=location.origin+"/CodexAnimations/animations.json";return lit.getJsonData(n)},pit&&(CIB.config.features.enableMetaMessages=!1,CIB.config.features.enableLearnMore=!1,CIB.config.features.enableCitations=!1,CIB.config.features.enableWelcomeScreen=!1,CIB.config.features.enableShare=!1,CIB.config.features.enableStopButton=!1,CIB.config.features.enableAnswerCards=!1,CIB.config.features.enableAds=!1),bb&&(CIB.config.sydney.request.traceId=bb),CIB.config.features.enableSpeechInput=nrt,CIB.config.features.enableShare=trt,CIB.config.features.enableMessageShareableSignal=irt,CIB.config.features.enableAutosuggestMetrics=t((tw=_w._sydConvConfig)===null||tw===void 0?void 0:tw.enableAutosuggestMetrics,!1),frt&&(CIB.config.features.enableErrorStateNotification=!0,CIB.config.features.enableErrorStateToastNotificationResetButton=!0,CIB.config.features.enableGhostedAutoSuggest=!0,CIB.config.features.enableHoverCardAttributionFavicons=!0),gut&&(CIB.config.features.enableAutoRecoverFromInvalidSession=!0),nft&&(CIB.config.features.enableAutoRecoverFromInvalidSessionForFirstTurn=!0),tft&&(CIB.config.features.enableActionBarIMEFix=!0),ift&&(CIB.config.features.enableGhostTrailingSpaceByLanguage=!0),kb&&(CIB.config.features.enableErrorInstrumentaton=kb),ok&&(CIB.config.features.enableSydImageCreate=ok),tu(),fu(),ert&&(CIB.config.features.enableAnsCardSfx=!0),hut&&(CIB.config.features.enableFeedbackClientSideScreenshot=!0),(wg||hw&&pst)&&gr(),aft&&(CIB.config.features.enableDisposeOrphanedHosts=!0),vft&&(CIB.config.features.enablePreserveTextFormat=!0),yft&&(CIB.config.features.enableHoverCardOnLearnMorePills=!0),kft&&(CIB.config.features.enableCloudflareCaptcha=!0),dft&&(CIB.config.features.enableInvisibleCaptchaChallenge=!0),gft&&(CIB.config.features.enableResizeObserverWithAnimationFrame=!0),lft&&(CIB.config.features.enableExportDocxWithFormat=!0),sst&&(CIB.config.features.enablePaywallTelemetryFix=!0),CIB.config.features.enableSecureUpdateConversation=!art,CIB.config.features.enableSecureSendFeedback=!vrt,CIB.config.features.enableShareSemSerp=prt,CIB.config.features.enableShareCreator=wrt,CIB.config.features.enableFeedbackOnFinalized=yrt,CIB.config.features.enableShareWithNoMargin=!lut,CIB.config.features.enableMobileShareAnchorBottom=aut,CIB.config.features.enableCreativeLandingPage=vut,CIB.config.features.enableServerLogMerging=yut,CIB.config.features.enableSkipContentOriginValidation=put,CIB.config.features.enableMobileOneClickShare=wut,CIB.config.features.enableMobileOneClickShareV2=but,CIB.config.features.enableFeedbackInstrumentation=kut,CIB.config.features.enableCopyButtonInstrumented=tet,CIB.config.features.enableShareModalDialog=brt,CIB.config.features.enableShareOnHostMessage=wft,CIB.config.features.enablePassBotGreetingInContext=!bft,CIB.config.features.enableMobileKnowledgeCardOverlay=ret,CIB.config.features.enableCibOverlayForKnowledgeCard=uet,CIB.config.features.enableNewAutoSuggestEndPoint=cet,CIB.config.features.enableNewTopicTooltip=not,CIB.config.features.enableNewlineTooltip=tot,CIB.config.features.enableTypingIndicatorForSerpSlotCreator=wet,CIB.config.features.enableOnProcessingStartEvent=bet,CIB.config.features.enableOnProcessingCompleteEvent=ket,CIB.config.messaging.maxMessageLength=eut,CIB.config.features.enableThreadsAadMsaSwitch=out,CIB.config.messaging.isAccountLinkedAadUser=lw,CIB.config.features.enableFastChatLoadAnimation=bot,CIB.config.features.enableShareInThreadsHeader=kot,CIB.config.features.enableNewConversationActivate=dot,CIB.config.features.enableMobileFirstClickShare=got,CIB.config.features.enableThreadsTopRightButton=ast,CIB.config.features.enablePluginsTopRightButton=vst,(oet||set)&&(CIB.config.features.enableWelcomeScreen=gn,CIB.config.features.enableWelcomeScreenItem=!gn),net&&(CIB.config.features.enableKnowledgeCardImage=!0,CIB.config.features.enableImagesInTextMessages=!0),CIB.config.features.secureConversation=krt,sk&&(CIB.config.features.enableAffinityInstance=sk,u(CIB.config.sydney.request.optionsSets,"machine_affinity")),rut&&(CIB.config.features.enableNewTopicAutoExpand=!0),fut&&(CIB.config.features.enableAmberTurnPerConversation=!0,CIB.config.messaging.amberTurnPerConversation=t((iw=_w._sydConvConfig)===null||iw===void 0?void 0:iw.amberTurnPerConversation,0)),uut&&(CIB.config.features.enableMaxTurnsPerConversation=!0,CIB.config.features.enableMaxTurnsFromBackend=t((rw=_w._sydConvConfig)===null||rw===void 0?void 0:rw.enableMaxTurnsFromBackend,!1),CIB.config.messaging.maxTurnsPerConversation=wg?t((uw=_w._sydConvConfig)===null||uw===void 0?void 0:uw.maxTurnsPerConversationMuidUser,tt):t((fw=_w._sydConvConfig)===null||fw===void 0?void 0:fw.maxTurnsPerConversation,tt)),grt&&(CIB.config.sydney.request.Participant={Id:"1"}),hk&&(CIB.config.features.enablePerfTracker=hk),nut&&(CIB.config.features.enableEmbeddedPerf=!0),ck&&(CIB.config.features.enableSinglePerfEventPerMessage=ck),tut&&(CIB.config.features.enableE2EPerf=!0),lk&&(CIB.config.features.enableRedirectToLoginUrl=lk),ak&&(CIB.config.features.enableActionBarV2=ak),vk&&(CIB.config.features.enableSpeechDictationBridgeMode=vk),yk&&(CIB.config.features.enableSpeculativeMode=yk),pk&&(CIB.config.features.enableReadAloudMessage=pk),wk&&(CIB.config.features.enableSpeechLanguageSetting=wk),bk&&(CIB.config.features.enableSpeechAutoDetectLanguage=bk),iut&&(CIB.config.speech.micPermissionProvider=function(){return{}}),sut&&(CIB.config.features.enableSafeSearchSetting=!0,yu()),CIB.config.messaging.messageBufferWorkerStreamDelayMS=cut,dut&&(CIB.config.suggestions.baseUrl="https://www.bing.com"),ud&&(CIB.config.features.enableOneClickCopy=ud),fd&&(CIB.config.features.enableReorderCopiedTextReferences=fd),ed&&(CIB.config.features.enableCodeCopy=ed),od&&(CIB.config.features.enableCodeBar=od),sd&&(CIB.config.features.enableCodeBarV2=sd),hd&&(CIB.config.features.enableUserMessageCopy=hd),cd&&(CIB.config.features.enableRichTextPaste=cd),ld&&(CIB.config.features.enablePasteMarkdownTable=ld),ad&&(CIB.config.features.enablePasteMath=ad),vd&&(CIB.config.features.enableInlineFeedback=vd),yd&&(CIB.config.features.enableInlineFeedbackV2=yd),pd&&(CIB.config.features.enableInlineFeedbackV21=pd),wd&&(CIB.config.features.enableSerpFeedback=wd),bd&&(CIB.config.features.enableMessageExport=bd),kd&&(CIB.config.features.enableMessageExportWithPlainText=kd),rft&&(CIB.config.features.enableMessageExportOnlineWord=nb()),fft&&(CIB.config.features.enableMessageExportOnlineExcel=nb()),og&&(CIB.config.features.enableTonePreview=og),CIB.config.features.enableMessageExportWord=uft,CIB.config.features.enableThreadExportLocalWord=eft,dd&&(CIB.config.features.enableMessageExportLocalExcel=dd),gd&&(CIB.config.features.enableTableBarFlatActions=gd),oft&&(CIB.config.features.enableThreadExportOnlineWord=nb()),ng&&(CIB.config.features.enableMessageExportV2=ng),tg&&(CIB.config.features.enableBotMessageActionsBar=tg),ig&&(CIB.config.features.enableShorterToastDuration=ig),rg&&(CIB.config.features.enableDirectlyOpenExportOnlineLink=rg),ug&&(CIB.config.features.enableLoginHintForSSO=ug),sg&&(CIB.config.features.enableMSAuth1stPartyApp=sg),hg&&(CIB.config.features.enableAdsRedirectLinkForTextMessage=hg),cg&&(CIB.config.features.enableCopyHtml=cg),lg&&(CIB.config.features.enableCopyHtmlWithHighlightedCode=lg),ag&&(CIB.config.features.enableExportPdfWithAnswerScreenshot=ag),vg&&(CIB.config.features.enableExportDocxWithAnswerScreenshot=vg),yg&&(CIB.config.features.enableLibrariesSplitImport=yg),pg&&(CIB.config.features.enableFlatActionBar=pg),bn&&(CIB.config.features.enableSydBeacon=bn),dn&&(CIB.config.features.enableStartPromotion=dn),kn&&(CIB.config.features.enableThreadContextMenu=kn),an&&(CIB.config.features.enableNewTables=an,CIB.config.messaging.tableVersion=cft),vn&&(CIB.config.features.enableBufferMessage=vn),yn&&(CIB.config.features.enableBufferLoadingDots=yn),pn&&(CIB.config.features.enableServerMetaText=pn),ttt&&(CIB.config.features.enableMessagePrivacy=ttt),itt&&(CIB.config.features.enableCloseShareOnClickOutside=itt),hn&&(CIB.config.features.enableShowShareButtonWithSecurityCheck=hn),wn&&(CIB.config.features.enableOptimizedStreaming=wn),ctt&&(CIB.config.features.enableSydneyGetMessagesHub=ctt),rtt&&(CIB.config.features.enableUpdateProfile=rtt),ytt&&(CIB.config.features.enableSuppressSigninMessage=ytt),vtt&&(CIB.config.features.enableOpenEdgeNotification=vtt),ptt&&(CIB.config.features.enableExportPdfWithRichFormat=ptt),wtt&&(CIB.config.features.enableAttributionImages=wtt),btt&&(CIB.config.features.enableAttributionImagesWhenAdsPresent=btt),ktt&&(CIB.config.features.enableAttributionImagesCarousel=ktt),dtt&&(CIB.config.features.enableAttributionImagesClickthrough=dtt),iit&&(CIB.config.features.enableThreadContextMenuV2=iit),rit&&(CIB.config.features.enableSearchBoxAutoFocus=rit),uit&&(CIB.config.features.enableUserMessageRewriteInsteadOfCopy=uit),fit&&(CIB.config.features.enableUserMessageRewriteAndCopy=fit),aw&&(CIB.config.features.enableFixOnReplaceAllJSError=aw),ou(),su(),stt&&(CIB.config.features.enableBackendExportService=stt),eu(),ntt&&(CIB.config.features.enableContextMessage=ntt),l=t((ew=_w._sydConvConfig)===null||ew===void 0?void 0:ew.codexOptionsSetsList,null),l&&l.length>0)for(nt=0;nt<l.length;nt++)u(CIB.config.sydney.request.optionsSets,l[nt].value);hu();aet&&pi(yet,vet);rd&&(CIB.config.features.enableTelemetryPrivacy=rd);a&&typeof MsbSydneyHelper!="undefined"?MsbSydneyHelper.initCompliantSydneyConfigs():pb&&typeof BcsSydneyHelper!="undefined"?BcsSydneyHelper.initBingChatForSchoolsSydneyConfigs():hw&&typeof BceSydneyHelper!="undefined"&&BceSydneyHelper.initBingChatForEnterpriseSydneyConfigs();a||(lu(),cu());ett&&(CIB.config.features.enablePageHeaderOverlapClamping=ett);pot&&(CIB.config.features.enablePersistentInputText=!0);ott&&(CIB.config.features.enableEmptyThreadTime=ott);CIB.config.features.enableThreadsConsent=lst;gtt&&(CIB.config.features.enableDeleteSingleConversationMemory=gtt,CIB.config.sydney.request.conversationHistoryOptionsSets=["autosave","savemem","uprofupd","uprofgen"]);nit&&(CIB.config.features.enable1DSTelemetry=nit);eit&&(CIB.config.features.enablePrivateThreadDefaultTitle=eit);oit&&(CIB.config.features.enablePromptHandling=oit);wst&&u(CIB.config.sydney.request.optionsSets,"u18Scenario");sit&&(CIB.config.features.enableModeAndSlotValidationForAds=sit);wu();kst&&bu()}function kr(){var i,r=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableSydTestCache,!1);r&&"SydneyTestHelper"in _w&&(SydneyTestHelper.setTestConfigs(),sj_evt.bind("CHAT_MOCKED",function(t){var i=t&&t.length>1?t[1]:null;i&&(n.processCachedResponseUsingCIB=function(){CIB.processCachedResponse(i)})},!0))}function ti(){var i,r,u,f=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableCodexWin,!1),e=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.codexWinCurrentTurn,0),o=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableCodexWinBotMessage,!1);f&&(sj_cook.set(n.userCook,ar,String(e+1),!0,"/",null),o&&(n.shouldForceSendBotGreeting=!0));sj_evt.unbind("showSydFSC",ti)}function dr(){var n,i=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableDM,!1);i&&CIB.changeColorScheme&&CIB.changeColorScheme(1)}function ii(){var n=Math.round(_d.documentElement.clientWidth||_w.innerWidth);return n<100&&(n=360),n}function ri(){var n=Math.round(_d.documentElement.clientHeight||_w.innerHeight);return n<100&&(n=636),n}function ui(){fi(_w._sydConvTranslation);sj_evt.unbind("sydConvTranslationLoaded",ui)}function fi(n){for(var r,t=0,i=Object.keys(n);t<i.length;t++)r=i[t],CIB.config.strings[r]=n[r]}function gr(){var n,i,r;CIB.config.features.enableMUIDUserMode=!0;CIB.config.features.enableSignInUpsellforMuidUser=!0;var u=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableCodexMuidConsentTop,!1),f=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableCodexMuidConsentExplicit,!1),e=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableCodexMuidConsentImplicit,!1),o=u||f||e;o&&(CIB.config.features.enableCodexMuidConsentTop=u,CIB.config.features.enableCodexMuidConsentInlineExplicit=f,CIB.config.features.enableCodexMuidConsentInlineImplicit=e,CIB.config.sydney.muidUserConsentGiven=ei(),CIB.onConsentGiven&&CIB.onConsentGiven(function(){pu()}))}function nu(){var n,i;return __awaiter(this,void 0,void 0,function(){var r,f,e,o,s,h;return __generator(this,function(c){switch(c.label){case 0:if(r=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableThreadsConsent,!1),f=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.threadsAutoSaveOptionset,"autosave"),CIB.config.features.enableThreadsConsent=r,r&&CIB.onAutosaveConsentChanged)CIB.onAutosaveConsentChanged(function(n){switch(n){case"Allowed":u(CIB.config.sydney.request.optionsSets,f);break;default:uf(CIB.config.sydney.request.optionsSets,f)}});if(!(r&&CIB.getConsent&&CIB.updateConsent))return[3,6];c.label=1;case 1:return c.trys.push([1,5,,6]),[4,CIB.getConsent()];case 2:return(e=c.sent(),o=e.consentSettings.autoSave,s=e.consentSettings.personalization,!(o&&s))?[3,4]:[4,CIB.updateConsent(o,s)];case 3:c.sent();c.label=4;case 4:return[3,6];case 5:return h=c.sent(),[3,6];case 6:return[2]}})})}function tu(){var n,i,r,u,f,e,o,s,h=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableVisualSearch,!1);if(h){var l=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.removeCameraInputForVisualSearch,!1),a=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.dVSOC,!1),v=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.aimgut,!1),c=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.visualSearchSubscriptionId,""),y=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.eifpiab,!1),p=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.emwc,!1),w=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.eufte,!1);l&&(CIB.config.features.enableCameraInputForVisualSearch=!1);a&&(CIB.config.features.enableVisualSearchOrientationCheck=!1);CIB.config.features.enableVisualSearch=h;CIB.config.features.enableImageFilePasteInActionBar=y;CIB.config.features.enableUnsupportedFileTypeError=w;CIB.config.visualSearch.allowImageOnlyUserTurn=v;CIB.config.visualSearch.enableMobileWebCamera=p;CIB.config.visualSearch.includeCredentialInXHRRequest=!0;!c||(CIB.config.visualSearch.subscriptionId=c);iu();ru();uu()}}function iu(){var i,n=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.visualSearchRestrictedTonesList,null);(n===null||n===void 0?void 0:n.length)>0&&CIB.config.visualSearch&&(CIB.config.visualSearch.restrictedTones=[],n.forEach(function(n){CIB.config.visualSearch.restrictedTones.push(n.value)}))}function ru(){var i,n=CIB.config.visualSearch,t;((i=_w._sydConvConfig)===null||i===void 0?void 0:i.evssid)&&n&&(t=sj_cook===null||sj_cook===void 0?void 0:sj_cook.get("_SS","SID"),t&&(n.query?n.query.SID=t:n.query={SID:t}))}function uu(){var n,i,r,f=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.evscamprd,!1),u=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.vscamprdname,"");f&&u&&((r=_w.SydneyCameraProviderFactory)===null||r===void 0?void 0:r.create(u))}function fu(){var n,i,r,u,f,e,o,s,h=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableFileUpload,!1),c=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableFileUploadPrivacyMessage,!1),l=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableMobileFileUpload,!1),a=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableFileUploadWebPageUrlInput,!1),v=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableFileUploadContextInThreads,!1),y=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.enableTextFilePasteInActionBar,!1),p=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableFileUploadLongContext,!1),w=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.enableFileUploadForAllModes,!1);h&&(CIB.config.features.enableFileUpload=!0);c&&(CIB.config.features.enableFileUploadPrivacyMessage=!0);l&&(CIB.config.features.enableMobileFileUpload=!0);a&&(CIB.config.features.enableFileUploadWebPageUrlInput=!0);v&&(CIB.config.features.enableFileUploadContextInThreads=!0);y&&(CIB.config.features.enableTextFilePasteInActionBar=!0);p&&(CIB.config.features.enableFileUploadLongContext=!0);w&&(CIB.config.features.enableFileUploadForAllModes=!0)}function eu(){var r,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,rt=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableShareWholeThreadMockUp,!1),ut=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableThreadShareLandingPage,!1),ft=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.enableShareConversation,!1),et=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.enableShareThreadWithNoCache,!1),ot=t((c=_w._sydConvConfig)===null||c===void 0?void 0:c.enableWholeThreadPerformanceFix,!1),st=t((l=_w._sydConvConfig)===null||l===void 0?void 0:l.enableShareCurrentThreadMessagesfromAPI,!1),ht=t((a=_w._sydConvConfig)===null||a===void 0?void 0:a.enableThreadShareWithoutRenderCardRequest,!1),ct=t((v=_w._sydConvConfig)===null||v===void 0?void 0:v.enableGetConversationAPIWithSNRProxy,!1),lt=t((y=_w._sydConvConfig)===null||y===void 0?void 0:y.enableGetSharedMessagesAPIWithSNRProxy,!1),at=t((p=_w._sydConvConfig)===null||p===void 0?void 0:p.enableBICHistory,!1),vt=t((w=_w._sydConvConfig)===null||w===void 0?void 0:w.enable2TScreenshot,!1),yt=t((b=_w._sydConvConfig)===null||b===void 0?void 0:b.enable2TScreenshotSnR,!1),it=t((k=_w._sydConvConfig)===null||k===void 0?void 0:k.enableThreads,!1),wt=t((d=_w._sydConvConfig)===null||d===void 0?void 0:d.enableThreadsCF,!1),bt=t((g=_w._sydConvConfig)===null||g===void 0?void 0:g.enableFlux3P,!1),n,i,pt;if(rt&&(CIB.config.features.enableShareWholeThreadMockUp=rt),ut&&(CIB.config.features.enableThreadShareLandingPage=ut),ft&&(CIB.config.features.enableShareConversation=ft),et&&(CIB.config.features.enableShareThreadWithNoCache=et),ot&&(CIB.config.features.enableWholeThreadPerformanceFix=ot),st&&(CIB.config.features.enableShareCurrentThreadMessagesfromAPI=st),ht&&(CIB.config.features.enableThreadShareWithoutRenderCardRequest=ht),ct&&(CIB.config.features.enableGetConversationAPIWithSNRProxy=ct),lt&&(CIB.config.features.enableGetSharedMessagesAPIWithSNRProxy=lt),at&&(CIB.config.features.enableBICHistory=at),vt&&(CIB.config.features.enableAnswerScreenshot=vt),yt&&(CIB.config.features.enableAnswerScreenshotSnR=yt),it){if(CIB.config.features.enableThreads=it,n=t((nt=_w._sydThreads)===null||nt===void 0?void 0:nt.threads,null),n&&n.length>0)for(i=0;i<n.length;i++)CIB.addThread(n[i]);pt=t((tt=_w._sydConvConfig)===null||tt===void 0?void 0:tt.threadsAutoSaveOptionset,"autosave");u(CIB.config.sydney.request.optionsSets,pt)}(it||wt)&&e(f.System,"THREADS","1","1");nu()}function ou(){var n,i,r,u=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableTypingIndicatorAnimation,!1),f=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableTypingIndicatorDemoteStyle,!1),e=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.typingIndicatorAnimationDuration,or);u&&(CIB.config.features.enableTypingIndicatorAnimation=!0,CIB.config.messaging.typingIndicatorAnimationDuration=e);f&&(CIB.config.features.enableTypingIndicatorDemoteStyle=!0)}function su(){var n,i,r,u,f,e,o,h=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableAdSlugsDesktop,!1),c=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableAdSlugsMobile,!1),l=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableSearchQueryForInlineAds,!1),a=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableDevFormOverrideForAds,!1),v=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableFixForInlineAdsSQ,!1),s=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.codexPartnerScenario,""),y=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableInlineAdsDynamicWidth,!1);h&&(CIB.config.features.enableAdSlugsDesktop=!0);c&&(CIB.config.features.enableAdSlugsMobile=!0);l&&(CIB.config.features.enableSearchQueryForInlineAds=!0);a&&(CIB.config.features.enableDevFormOverrideForAds=!0);v&&(CIB.config.features.enableFixForInlineAdsSQ=!0);s!==""&&(CIB.config.sydney.request.scenario=s);y&&(CIB.config.features.enableInlineAdsDynamicWidth=!0)}function hu(){var n,i,r,u,f,e,o,s=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableSydneySapphireUpsellMessageActions,!1),h=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableSydneySapphireUpsellEndOfChat,!1),c=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableSydneySapphireUpsellVisualSearch,!1),l=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.sydneySapphireUpsellTreatment,0),a=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.isAccountLinkedWithActiveAAD,!1),v=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.sydneyContinueOnPhoneShortenQRCodeUrl,"https://bingapp.microsoft.com/bing?style=newbing"),y=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.sydSapphireUpsellVisualSearchQRCodeUrl,"https://bingapp.microsoft.com/bing?adjust=13uz7blz_13evwnmy");s&&!a&&(CIB.config.features.enableSydSapphireUpsellOnMessageActions=s,CIB.config.mobileUpsell.sydSapphireUpsellTreatment=l,CIB.config.mobileUpsell.qrCodeBaseUrl=v);h&&(CIB.config.features.enableSydSapphireUpsellOnEndOfChat=h,CIB.config.mobileUpsell.sydSapphireUpsellTreatment=l);c&&(CIB.config.features.enableSydSapphireUpsellVisualSearch=c,CIB.config.mobileUpsell.qrCodeVisualSearchUrl=y)}function cu(){var i,r,u,f,e,o,s,l=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.sydOptionSets,!1),a=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.isSydCorpnet,!1),v=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.noInitOpts,!1),y=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.extraSappOptions,""),p=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.extraEdgeOptions,""),w=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.extraBceOptions,""),k=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.removeDeepleo,!1),d=new URLSearchParams(_w.location.search.toLowerCase()),b=d.get(ki.toLowerCase()),n,h;(v||l!=""||a&&b||y||p||w)&&(n=v?[]:CIB.config.sydney.request.optionsSets,n=c(n,l),a&&(n=c(n,b)),n=c(n,y),n=c(n,p),n=c(n,w),k&&(h=n.indexOf("deepleo"),h>=0&&n.splice(h,1)),CIB.config.sydney.request.optionsSets=n)}function lu(){var h,c,v,y,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,lt,at,ii=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.toneDefault,r),ri=t((c=_w._sydConvConfig)===null||c===void 0?void 0:c.enableToneCook,!1),ui=t((v=_w._sydConvConfig)===null||v===void 0?void 0:v.enableBalDefault,!1),fi=t((y=_w._sydConvConfig)===null||y===void 0?void 0:y.userPriorityLevel,999),ei=t((w=_w._sydConvConfig)===null||w===void 0?void 0:w.enableUserPriorityLevel,!1),yt=t((b=_w._sydConvConfig)===null||b===void 0?void 0:b.enableTonePerf,!1),oi=t((k=_w._sydConvConfig)===null||k===void 0?void 0:k.enableCreativeToneIgnoreAndDefaultToBalanced,!1),si=t((d=_w._sydConvConfig)===null||d===void 0?void 0:d.enablePreciseToneIgnoreAndDefaultToBalanced,!1),vt,ni,ti;((g=_w._sydConvConfig)===null||g===void 0?void 0:g.shareLoadingUI)&&(CIB.config.features.enableShareLoadingUI=!0);var n=!ei||fi>0,pt=n?t((nt=_w._sydConvConfig)===null||nt===void 0?void 0:nt.balTone,""):"harmonyv3",wt=t((tt=_w._sydConvConfig)===null||tt===void 0?void 0:tt.crtTone,""),bt=t((it=_w._sydConvConfig)===null||it===void 0?void 0:it.prcTone,""),kt=t((rt=_w._sydConvConfig)===null||rt===void 0?void 0:rt.sydBalOpts,""),dt=t((ut=_w._sydConvConfig)===null||ut===void 0?void 0:ut.sydCrtOpts,""),gt=t((ft=_w._sydConvConfig)===null||ft===void 0?void 0:ft.sydPrcOpts,""),f=n?t((et=_w._sydConvConfig)===null||et===void 0?void 0:et.sydBalExtraOpts,""):"",e=n?t((ot=_w._sydConvConfig)===null||ot===void 0?void 0:ot.sydCrtExtraOpts,""):"",o=n?t((st=_w._sydConvConfig)===null||st===void 0?void 0:st.sydPrcExtraOpts,""):"";kt&&(f+=(f!==""?",":"")+kt);dt&&(e+=(e!==""?",":"")+dt);gt&&(o+=(o!==""?",":"")+gt);f&&(s.Balanced=f.split(","));e&&(s.Creative=e.split(","));o&&(s.Precise=o.split(","));pt&&(i[r]=pt);wt&&(i[l]=wt);bt&&(i[p]=bt);yt&&(CIB.config.features.enableTonePerf=yt);CIB.config.features.enableResponseToneSelector=!0;CIB.config.features.enablePersistentResponseToneSelector=t((ht=_w._sydConvConfig)===null||ht===void 0?void 0:ht.enablePersistentToneSelector,!1);CIB.config.features.enableResponseToneObjects=(lt=(ct=_w._sydConvConfig)===null||ct===void 0?void 0:ct.enableSuppressTones)!==null&&lt!==void 0?lt:!1;CIB.config.features.enableResponseToneColorThemes=!0;vt=Object.keys(i);((at=_w._sydConvConfig)===null||at===void 0?void 0:at.enableSuppressTones)?CIB.config.sydney.responseTones=vt.map(function(n){var t,i,r=(i=(t=_w._sydConvConfig)===null||t===void 0?void 0:t["suppressKnob".concat(n)])!==null&&i!==void 0?i:0;return{tone:n,disabled:r}}):CIB.config.sydney.responseToneOptions=vt;ni=oi&&l===a();ti=si&&p===a();ni||ti?au():ri?ku(ii):ui&&u(CIB.config.sydney.request.optionsSets,i[r]);gu()}function au(){CIB.config.sydney.request.optionsSets=v(CIB.config.sydney.request.optionsSets,r,CIB.responseTone);u(CIB.config.sydney.request.optionsSets,i[r]);CIB.responseTone=r;h=CIB.responseTone}function ft(n){var u,f,o=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableStreamSyntheticTextResponses,!1),e;o&&(e=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableStreamSyntheticTextResponsesForAllTones,!1),e?(n===r&&i[r]==="galileo"&&(CIB.config.messaging.streamSyntheticTextResponses=!0),n===l&&i[l]==="h3imaginative"&&(CIB.config.messaging.streamSyntheticTextResponses=!0),n===p&&i[p]==="h3precise"&&(CIB.config.messaging.streamSyntheticTextResponses=!0)):CIB.config.messaging.streamSyntheticTextResponses=n===r&&i[r]==="galileo"?!0:!1)}function vu(n){if(!n)return nt.Demote;for(var t in nt)if(t.toLowerCase().trim()===n.toLowerCase().trim())return nt[t];return nt.Demote}function yu(){var t=sj_cook.get(n.userCook,vr),i=vu(t);CIB.config.sydney.bingFirstPageAdultFilter=i}function ei(){var t=sj_cook.get(n.userCook,rt),i;return ut?!!t:(i=sj_cook.get(b,b),t===i)}function pu(){var t=sj_cook.get(b,b);sj_cook.set(n.userCook,rt,t,!0,"/",null);e(f.System,"MuidConsentProvided","MuidUser",{IsConsent:"1"});CIB.config.sydney.muidUserConsentGiven=!0}function wu(){typeof CIB.version!="undefined"&&CIB.version&&e(f.System,"CIB","CIBInfo",{version:CIB.version.version})}function bu(){var n,i=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.DedicatedIpType,"unknown");["nochat","nochatstrict"].indexOf(i)>-1&&e(f.System,"NoChatVariant","NoChatVariantInfo",{DedicatedIpType:i})}function a(){var i,r=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableToneCookExpiry,!1),u=r?n.toneCook:n.userCook;return sj_cook.get(u,n.toneCrumb)}function ku(o){var c,y,p,b,k,tt=t((c=_w._sydConvConfig)===null||c===void 0?void 0:c.enableToneCookExpiry,!1),d=t((y=_w._sydConvConfig)===null||y===void 0?void 0:y.enableBalancedSerp,!1),rt=t((p=_w._sydConvConfig)===null||p===void 0?void 0:p.enableAlwaysCreativeSerp,!1),ut=t((b=_w._sydConvConfig)===null||b===void 0?void 0:b.enableSuperOptionsSets,!1),st=t((k=_w._sydConvConfig)===null||k===void 0?void 0:k.enableBalancedSerpLog,!1),s=a(),nt,it;if(st&&s!=r&&e(f.System,"BalSerpOverride","Tone",{tone:s}),nf()){nt=et(yt).toLowerCase().trim();CIB.responseTone=g[nt];ot(CIB.responseTone,!1,tt);e(f.System,"SET_TONE_FROM_URL",nt,"");e(f.System,w,"Tone",{tone:CIB.responseTone});return}rt?(s=l,CIB.responseTone=s):!d&&s!=null&&i.hasOwnProperty(s)?(CIB.responseTone=s,e(f.System,w,"Tone",{tone:s})):(tt&&(it=sj_cook.get(n.userCook,n.hasSetToneCrumb),it=="1"&&(sj_cook.set(n.userCook,n.hasSetToneCrumb,"0",!0,"/",null),e(f.System,"ResetTone","Tone",{}))),CIB.responseTone=o,s=o,e(f.System,"DefaultTone","Tone",{tone:s}));ut&&u(CIB.config.sydney.request.optionsSets,sr);!d&&i.hasOwnProperty(s)?(u(CIB.config.sydney.request.optionsSets,i[s]),CIB.config.sydney.request.optionsSets=v(CIB.config.sydney.request.optionsSets,s),h=s,ft(h)):d&&i.hasOwnProperty(r)&&(u(CIB.config.sydney.request.optionsSets,i[r]),CIB.config.sydney.request.optionsSets=v(CIB.config.sydney.request.optionsSets,r),h=r,ft(r))}function du(n){var i,r=n&&n.length>1?n[1]:null,u=r?r.toLowerCase().trim():"",o,s;r&&g.hasOwnProperty(u)&&(o=n&&n.length>2?n[2]:!1,s=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableToneCookExpiry,!1),CIB.responseTone=g[u],ot(CIB.responseTone,o,s),e(f.System,w,"Tone",{tone:CIB.responseTone}))}function gu(){var n,i,r,u;if(sj_evt.bind(lr,du,!0),r=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableToneCookExpiry,!1),u=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.isCompliantSydneyEndpointEnabled,!1),!u&&CIB.onResponseToneChanged)CIB.onResponseToneChanged(function(n){ot(n,!0,r)})}function et(n){var i=_w.location.search,r=new URLSearchParams(i),t=r.get(n);return t?t:""}function nf(){var n,r=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableSetToneFromUrl,!1),i;return r?(i=et(yt),i&&g.hasOwnProperty(i.toLowerCase().trim())):!1}function ot(t,r,f){var c=[i[t]].concat(s[t]).toString(),e,o;t!==a()&&si("ChangedTone","Tone",{newTone:t});r&&(f?(e=rf(),sj_cook.set(n.toneCook,n.toneCrumb,t,!0,"/",e),sj_cook.set(n.toneCook,n.toneOptsCrumb,c,!0,"/",e),sj_cook.set(n.userCook,n.hasSetToneCrumb,"1",!0,"/",null)):(sj_cook.set(n.userCook,n.toneCrumb,t,!0,"/",null),sj_cook.set(n.userCook,n.toneOptsCrumb,c,!0,"/",null)));i.hasOwnProperty(t)&&(o=oi(CIB.config.sydney.request.optionsSets,Object.keys(i)),o!==-1?CIB.config.sydney.request.optionsSets[o]=i[t]:u(CIB.config.sydney.request.optionsSets,i[t]),CIB.config.sydney.request.optionsSets=v(CIB.config.sydney.request.optionsSets,t,h),h=t,ft(h))}function tf(){var u,e,o,s=n.getConfigOrDefault((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableBalancedSerp,!1),t,i,h;s&&!ni&&(ni=!0,s&&(t=n.getCookieTone(),t!=null&&t!=r&&(i=CIB.manager.conversation._lastMessage,h=(o=(e=CIB===null||CIB===void 0?void 0:CIB.config)===null||e===void 0?void 0:e.greeting)===null||o===void 0?void 0:o.shouldSendBotGreeting,CIB.config.greeting.shouldSendBotGreeting=!1,n.shouldResetBotGreeting=!1,CIB.responseTone=t,n.lastQuery="",i&&i.text&&CIB.registerContext([{author:"bot",source:"serpBalResp",text:i.text}]),n.shouldResetBotGreeting=!0,CIB.config.greeting.shouldSendBotGreeting=h,n.SydLog(f.System,"SetCookToneAfterSERP","Tone",{tone:t}))))}function rf(){var n=new Date;return n.setDate(n.getDate()+(n.getHours()<2?1:2)),n.setHours(2),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0),(n.getTime()-(new Date).getTime())/6e4}function v(n,t,i){return i===void 0&&(i=""),i!=""&&s.hasOwnProperty(i)&&(n=ff(n,s[i])),t!=""&&s.hasOwnProperty(t)&&s[t].forEach(function(t){u(n,t)}),n}function u(n,t){t&&n.indexOf(t)<0&&n.push(t)}function uf(n,t){var i=n.indexOf(t);i>=0&&n.splice(i,1)}function ff(n,t){return t.forEach(function(t){var i=n.indexOf(t);i>=0&&n.splice(i,1)}),n}function oi(n,t){for(var f,u,r=0;r<t.length;r++)if(f=t[r],u=n.indexOf(i[f]),u>=0)return u;return-1}function st(n,t){var i={};return t?n.locType&&(i.LocationType=n.locType):n.accuracy&&(i.Accuracy=n.accuracy),n.state&&(i.State=decodeURI(n.state)),n.city&&(i.City=decodeURI(n.city)),n.lat&&n.long&&(i.Center={Latitude:parseFloat(n.lat),Longitude:parseFloat(n.long)}),n.source&&(i.LocationSource=n.source),n.altitude&&(i.Altitude=n.altitude),n.altitudeAcc&&(i.AltitudeAccuracy=n.altitudeAcc),n.displayName&&(i.DisplayName=n.displayName),n.name&&(i.Name=n.name),n.heading&&(i.Heading=n.heading),n.isValidLocation&&(i.IsValidLocation=n.isValidLocation),n.range&&(i.Radius=n.range),n.speed&&(i.Speed=n.speed),n.ts&&(i.Timestamp=n.ts),n.ets&&(i.ExpiryTimestamp=n.ets),i}function ef(){var t=(new Date).getTimezoneOffset(),r=Math.floor(Math.abs(t/60)),u=Math.abs(t%60),i;t<0?i="+"+o(r)+":"+o(u):t>0?i="-"+o(r)+":"+o(u):t==0&&(i="Z");var n=new Date,f=n.getDate(),e=n.getMonth()+1,s=n.getFullYear(),h=n.getHours(),c=n.getMinutes(),l=n.getSeconds();return o(s)+"-"+o(e)+"-"+o(f)+"T"+o(h)+":"+o(c)+":"+o(l)+i}function o(n){return n<10?"0"+n:n}function c(n,t){if(t){var i=t.split(",");return n.concat(i)}return n}function t(n,t){return typeof n!="undefined"?n:t}function sf(n){var t=__spreadArray([],CIB.config.sydney.request.optionsSets,!0),r;return i.hasOwnProperty(n)&&(r=oi(t,Object.keys(i)),r!==-1&&(t[r]=i[n]),t=v(t,n,h)),t}function e(n,i,r,u){var e,o,s,h,f=[],l=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.isCompliantSydneyEndpointEnabled,!1),c,a,v;l&&f.push("IsBizChat",l.toString());c=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.isBingChatForEnterprise,!1);c&&f.push("IsBCE",c.toString());a=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.isBingChatForFaculty,!1);a&&f.push("IsBCSFaculty","true");v=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.enableTelemetryPrivacy,!1);v&&(u=hf(u));Log.Log.apply(Log,__spreadArray([n,"Codex",i,!1,"Namespace",r,"CustomData",JSON.stringify(u)],f,!1))}function hf(n){return pr.forEach(function(t){var i,r;n[t]!==undefined&&(n[t]=it);((i=n.CustomData)===null||i===void 0?void 0:i[t])!==undefined&&(n.CustomData[t]=it);((r=n.EncryptedData)===null||r===void 0?void 0:r[t])!==undefined&&(n.EncryptedData[t]=it)}),n}function si(n,t,i){e(f.Interaction,n,t,i)}function cf(){if(history&&(n.enableConvModeSwitchAjax&&(_w._currentRoute={state:_w.history.state,href:_w.location.href,search:_w.location.search}),sj_be(_w,"popstate",function(i){var u,f,e,o,s,h,r;if(n.enableConvModeSwitchAjax=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableConvModeSwitchAjax,!1),n.enableConvModeSwitchAjax&&(r=_w._currentRoute,_w._currentRoute={state:_w.history.state,href:_w.location.href,search:_w.location.search},ct(r===null||r===void 0?void 0:r.search)!=ct((f=_w._currentRoute)===null||f===void 0?void 0:f.search)&&(_w._isConvAjaxUpdated||((o=(e=_w._currentRoute)===null||e===void 0?void 0:e.state)===null||o===void 0?void 0:o.ajaxserp)===!0))){var c=_w.location,l=c.href,a=l.indexOf("/search");if(a>=0){window.location.reload();return}}((s=i===null||i===void 0?void 0:i.state)===null||s===void 0?void 0:s.inConvMode)&&_G[n.SYD_MODE]=="serp"?sj_evt.fire("showSydFSC",null,null,!1,!0):((h=i===null||i===void 0?void 0:i.state)===null||h===void 0?void 0:h.inConvMode)||_G[n.SYD_MODE]!="conversation"||(sj_evt.fire("preHideSydFSCByHistory"),sj_evt.fire("hideSydFSC",!0))}),URLSearchParams)){var i=new URLSearchParams(window.location.search);dt=i.get("showconv")==="1"}}function lf(i){var r,u;if(history){if(dt&&gt&&i){gt=!1;history.replaceState({inConvMode:i},document.title||"");n.enableConvModeSwitchAjax=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableConvModeSwitchAjax,!1);n.enableConvModeSwitchAjax&&(_w._currentRoute={state:_w.history.state,href:_w.location.href,search:_w.location.search});return}kt?hi(i):(history.pushState({inConvMode:i},document.title||""),n.enableConvModeSwitchAjax=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableConvModeSwitchAjax,!1),n.enableConvModeSwitchAjax&&(_w._currentRoute={state:_w.history.state,href:_w.location.href,search:_w.location.search}))}}function hi(i){var r,u=new URL(window.location.href);u.searchParams.set("showconv",i?"1":"0");history.pushState({inConvMode:i},ci(i),u);n.enableConvModeSwitchAjax=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableConvModeSwitchAjax,!1);n.enableConvModeSwitchAjax&&(_w._currentRoute={state:_w.history.state,href:_w.location.href,search:_w.location.search})}function ci(n){return k&&d?n?k:d:document.title}function af(n){k&&d&&(document.title=ci(n))}function vf(){var t,n;((t=history===null||history===void 0?void 0:history.state)===null||t===void 0?void 0:t.inConvMode)&&(n=_ge("sb_form_q"),n&&n.value?sj_evt.fire("showSydFSC",n.value):sj_evt.fire("showSydFSC"))}function yf(){function w(n){if(n&&n.length>=2){var t=n[1].waitlist;t&&t=="2"&&(CIB.config.features.enableMUIDUserMode=!1,CIB.config.messaging.maxTurnsPerConversation=rt,sj_evt.unbind("rewready",w))}}var i,r,u,f,e,o,s,h,c,l,d=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableSydTigerAns,!1),g=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableSydAjaxReset,!1),y,p,a,b,k,v;CIB.onModeChanged(function(t){switch(t){case"conversation":sj_evt.fire("showSydFSC");break;case"off-stage":if(n.ignoreFirstOffStage){n.ignoreFirstOffStage=!1;CIB.showConversation();break}sj_evt.fire("hideSydFSC");break;default:Log.Log("ClientInst","Codex","ModeChangeError",!1,"CustomData",JSON.stringify({mode:t}))}});if(d&&(y=_ge("b_sydTigerCont"),y)){p=_d.querySelector("#b_pole #b_sydTigerCont")!=null;CIB.onSerpSlotSuggestionInvoked(function(){_G[n.SYD_MODE]!="conversation"&&(n.LogIntEvent("ConversationViewEnter",p?"Pole":"RightRail",{source:"ChatBubble"}),sj_evt.fire("showSydFSC"))});a=_ge("sb_form_q");a&&(CIB.config.sydney.slottedModeTurnIndex=bi()&&((e=(f=(u=CIB===null||CIB===void 0?void 0:CIB.vm)===null||u===void 0?void 0:u.conversation)===null||f===void 0?void 0:f.turns)===null||e===void 0?void 0:e.length)?Math.max(CIB.vm.conversation.turns.length-1,0):0,n.lastQuery=a.value.toLowerCase().trim())}g&&sj_evt.bind("ajax.unload",function(){var n,t,i,r,u,f,e,o,s,h,c;CIB&&(c=(t=(n=CIB===null||CIB===void 0?void 0:CIB.config)===null||n===void 0?void 0:n.greeting)===null||t===void 0?void 0:t.shouldSendBotGreeting,CIB.config.greeting.shouldSendBotGreeting=!1,(u=(r=(i=CIB===null||CIB===void 0?void 0:CIB.manager)===null||i===void 0?void 0:i.stream)===null||r===void 0?void 0:r.subscription)===null||u===void 0?void 0:u.dispose(),(e=(f=CIB===null||CIB===void 0?void 0:CIB.manager)===null||f===void 0?void 0:f.stream)===null||e===void 0?void 0:e.complete(),(s=(o=CIB===null||CIB===void 0?void 0:CIB.manager)===null||o===void 0?void 0:o.stream)===null||s===void 0?void 0:s.finalizeStreamSubscription(),(h=CIB===null||CIB===void 0?void 0:CIB.manager)===null||h===void 0?void 0:h.resetConversation(),CIB.config.greeting.shouldSendBotGreeting=c)});var nt=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.codexMUIDUser,!1),it=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.enableSigninTurnFix,!0),rt=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.maxTurnsPerConversation,tt);if(nt&&it&&sj_evt.bind("rewready",w,!0),CIB.onModalVisibilityChanged)CIB.onModalVisibilityChanged(function(n){var t=_ge("b_header");t&&(n?Lib.CssClass.add(t,bt):Lib.CssClass.remove(t,bt))});b=t((c=_w._sydConvConfig)===null||c===void 0?void 0:c.enableThreads,!1);k=t((l=_w._sydConvConfig)===null||l===void 0?void 0:l.isAccountLinkedWithActiveAAD,!1);!b&&k&&(v=_qs("body"),v&&Lib.CssClass.add(v,wr))}function pf(){var t,i,r,u,f,e,o,s,h,l=(r=(i=(t=CIB===null||CIB===void 0?void 0:CIB.vm)===null||t===void 0?void 0:t.conversation)===null||i===void 0?void 0:i.model)===null||r===void 0?void 0:r.suggestions,n=document.activeElement,c;return!l||!n||n.nodeName!=="CIB-SERP"?"":(n=(s=(o=(e=(f=(u=n===null||n===void 0?void 0:n.shadowRoot)===null||u===void 0?void 0:u.activeElement)===null||f===void 0?void 0:f.shadowRoot)===null||e===void 0?void 0:e.activeElement)===null||o===void 0?void 0:o.shadowRoot)===null||s===void 0?void 0:s.activeElement,!n||n.nodeName!=="CIB-SUGGESTION-ITEM")?"":(n=(h=n===null||n===void 0?void 0:n.shadowRoot)===null||h===void 0?void 0:h.activeElement,!n||n.nodeName!=="BUTTON"||!n.textContent)?"":(c=n.textContent.trim(),l.find(function(n){return n.text===c}))?c:""}function ht(n){var t=_ge(n);t&&t.parentElement&&t.parentElement.removeChild(t)}function wf(n){CIB.processCachedResponse(n)}function li(n,t,i,r,u,f,e){n===void 0&&(n="");t===void 0&&(t="");i===void 0&&(i="");r===void 0&&(r="");u===void 0&&(u=!1);f===void 0&&(f=!1);e===void 0&&(e=!1);sj_evt.fire("showSydFSC",n,t,r,u,i,f,e)}function ct(n){var r=new RegExp("[?&]{1}q=([^&]+)"),t=n.match(r),i=t?t[1]:null;return i?decodeURIComponent(i.replace("+"," ")):""}function y(){var i,r,u,e=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.isSapphireClient,!1),f,n;return e?ct(_w.location.search):(f=typeof sj_b!="undefined"&&sj_b!=null?sj_b:_d.body,n=f.querySelectorAll("textarea.b_searchbox, input.b_searchbox:not(#uaseabox)"),!n||n.length<=0)?"":(u=(r=n[0])===null||r===void 0?void 0:r.getAttribute("value"))!==null&&u!==void 0?u:""}function bf(){var t=new URLSearchParams(_w.location.search),i=t.get(pt);i&&(n.lastQuery=y().toLowerCase().trim())}function ai(n,t,i,r,u,f){var o,e,s;t===void 0&&(t=!1);i===void 0&&(i="");r===void 0&&(r="");u===void 0&&(u=!1);f===void 0&&(f=!1);o="";t&&(o=y());e=i;e||(s=_d.querySelector(".b_ans #b_wpt_data"),s&&(e=s.getAttribute("data-sydctx")));li(n,e,o,r,!1,u,f)}function kf(n,t){n===void 0&&(n="");t===void 0&&(t="");var i=y();ai(i,!1,n,t,!1,!0)}function df(t){n.isSydFSCEligible=t}function gf(n){for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t]}function ne(){sj_evt.fire("clarity.trigger","cibChat")}function te(n,t,i){return!n||t&&(!i||i.toLowerCase().trim()!==y().toLowerCase().trim())}function ie(t,i){var l,a,v,y,p,w,b,k,it,o,d,u,e,s,tt,ct,h,lt,r,c,yt,pt,wt,bt;i===void 0&&(i=!1);it=n.getConfigOrDefault((l=_w._sydConvConfig)===null||l===void 0?void 0:l.enableSydCarouselHistory,!1);vi();var f=sj_ce("div","b_metaCont"),rt=sj_ce("div","b_metaCont_Title"),kt=n.getConfigOrDefault((a=_w._sydConvTranslation)===null||a===void 0?void 0:a.sydneyCarouselTitle,"");rt.textContent=kt;f.appendChild(rt);o=sj_ce("div","b_meta_bot");f.appendChild(o);d=sj_ce("div","b_metaChat");u=sj_ce("div","b_metaCont_PillCont","b_meta_hideEx");i?u.appendChild(d):o.appendChild(d);o.appendChild(u);var ut=n.getConfigOrDefault((v=_w._sydConvConfig)===null||v===void 0?void 0:v.carouselQueries,""),dt=n.getConfigOrDefault((y=_w._sydConvConfig)===null||y===void 0?void 0:y.sydCarPropQuery,!1),ft=ut?ut.split(","):null,g=ft?ft:CIB.vm.conversation.model.messages.filter(function(n){return n.type==="meta"&&n.text&&n.text!="Generating answers for you..."}).map(function(n){var i,r,t=(r=(i=n.text)===null||i===void 0?void 0:i.split("`"))!==null&&r!==void 0?r:[];return t.length==1?t[0]:t.length==3?t[1]:""}).filter(function(n){return n}),et=0,gt=i?_w.innerWidth-at-rr:ir,ni=_w.innerWidth-at-vt,ot=!i,st=gt-vt,ti=CIB.vm.conversation.model._id,nt=!0;for(e=g.length-1;e>=0;e--)s=g[e],nt&&(tt=re(s)+2*ur+fr,et+tt<st?et+=tt:ot?(nt=!1,ct=e+1,h=sj_ce("div","b_meta_exp","b_metaCont_Pill"),h.innerText="+"+ct.toString(),sj_be(h,"click",function(){Lib.CssClass.add(u,"b_metaExpanded")}),u.append(h)):(st=ni,ot=!0)),lt="cdxche",r=sj_ce("a",null,"b_metaCont_Pill"+(nt?"":" b_hide")),r.href=_w.location.origin+_w.location.pathname+"?q="+s+"&form="+lt,it&&(r.href=r.href+"&convid="+ti),dt&&(r.href=r.href+"&features=sydcarousel,sydcpropq"),r.textContent=s,r.target="_blank",sj_be(r,"click",function(t){var r=_ge("CodexCarouselInstLink"),i;_w.si_ct&&_w.si_ct(r);i=t===null||t===void 0?void 0:t.target;n.LogIntEvent("QueryCarouselClick","QueryCarousel",{query:i===null||i===void 0?void 0:i.textContent})}),u.appendChild(r);c=sj_ce("div","b_meta_col","b_metaCont_Pill b_hide");c.innerText=n.getConfigOrDefault((p=_w._sydConvTranslation)===null||p===void 0?void 0:p.sydneyCarouselCollapse,"Collapse");sj_be(c,"click",function(){Lib.CssClass.remove(u,"b_metaExpanded")});u.append(c);g.length>0&&(yt=n.getConfigOrDefault((w=_w._sydConvConfig)===null||w===void 0?void 0:w.suppressAlsoTryWhenEnableSydCarousel,!1),yt&&ht("b_alsotry"),pt=n.getConfigOrDefault((b=_w._sydConvConfig)===null||b===void 0?void 0:b.suppressPoleRSWhenEnableSydCarousel,!1),pt&&ht("brspole"),wt=n.getConfigOrDefault((k=_w._sydConvConfig)===null||k===void 0?void 0:k.suppressPoleRecommendedSearchWhenEnableSydCarousel,!1),wt&&ht("polerecommendedsearch"),t.children.length>0?(bt=_w.getComputedStyle(t,null),bt.paddingLeft=="0px"&&Lib.CssClass.add(f,"b_metaPadding"),t.insertBefore(f,t.children[0])):t.appendChild(f),sj_evt.fire(cr))}function re(n){var i=sj_ce("canvas"),t=i.getContext("2d");return t.font="14px Roboto",t.measureText(n).width}function vi(){var n=_ge("b_metaCont");n&&n.parentElement&&n.parentElement.removeChild(n)}function yi(){var n=et(hr);return n!==null&&n!==void 0?n:""}function lt(n,i,r){var u,f,e,o,s,h,c,l,a,v=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.disable2TSearchHistory,!1),y=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enable2TTest,!1);((o=(e=CIB===null||CIB===void 0?void 0:CIB.config)===null||e===void 0?void 0:e.answers)===null||o===void 0?void 0:o.query)&&(CIB.config.answers.query.IG=_G.IG,CIB.config.answers.query.IID=(s=_ge("b_sydConvCont"))===null||s===void 0?void 0:s.getAttribute("_iid"),CIB.config.answers.query.cw=n,CIB.config.answers.query.ch=i,y&&(CIB.config.answers.query.features=yi()),v&&(CIB.config.answers.query.dissrchswrite="1"));((c=(h=CIB===null||CIB===void 0?void 0:CIB.config)===null||h===void 0?void 0:h.ads)===null||c===void 0?void 0:c.query)&&(CIB.config.ads.query.IG=_G.IG,CIB.config.ads.query.IID=r?(l=_ge("CodexAdsInstLink"))===null||l===void 0?void 0:l.getAttribute("_iid"):(a=_ge("b_sydConvCont"))===null||a===void 0?void 0:a.getAttribute("_iid"),CIB.config.ads.query.cw=n,CIB.config.ads.query.ch=i,y&&(CIB.config.ads.query.features=yi()),CIB.config.ads.query.form="codexx",v&&(CIB.config.ads.query.dissrchswrite="1"))}function pi(t,i){var r,u;if(t)try{var f=ClientObserver?ClientObserver.getBrowserWidth():ii(),e=ClientObserver?ClientObserver.getBrowserHeight():ri(),r=f-n.padding2TMobile<n.MIN_WIDTH_MOBILE?n.MIN_WIDTH_MOBILE:f-n.padding2TMobile,u=e;lt(r,u,i)}catch(o){Log.Log("CI.Error","SydneyMobile","ClientObserver not loaded")}else r=ClientObserver.getBrowserWidth(),u=ClientObserver.getBrowserHeight(),lt(r,u,i)}function ue(){var n=new URLSearchParams(_w.location.search),t=n.get("showconv"),i=n.get("sendquery");return i==="1"||t!=="1"}function fe(i,r,u,f){var h,c,l,a,v,y,p,b=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.enableSydContext,!1),k=t((c=_w._sydConvConfig)===null||c===void 0?void 0:c.enableSQMsg,!1),e,o,w,s;n.enableConvModeSwitchAjax=t((l=_w._sydConvConfig)===null||l===void 0?void 0:l.enableConvModeSwitchAjax,!1);var d=t((a=_w._sydConvConfig)===null||a===void 0?void 0:a.enableCodexMuidConsentTop,!1),g=t((v=_w._sydConvConfig)===null||v===void 0?void 0:v.enableCodexMuidConsentExplicit,!1),nt=t((y=_w._sydConvConfig)===null||y===void 0?void 0:y.enableCodexMuidConsentImplicit,!1),tt=d||g||nt,it=t((p=_w._sydConvConfig)===null||p===void 0?void 0:p.bypassConsentCheck,!1),rt=CIB.vm.conversation.model.messages.filter(function(n){return n.author=="user"}).length;if(i&&i!=n.lastQuery&&ue()&&i!=n.firstQuery&&(!tt||ei()||it||rt<1)){if(f&&n.enableConvModeSwitchAjax){if(n.isSmoothConvSwitchUpdatedPage())return;try{if(e=CIB.vm.conversation.model.messages.filter(function(n){return n.type==="meta"&&n.text!="Generating answers for you..."||n.type==="text"&&n.author==="user"}),e&&e.length>0&&(o=e[e.length-1].text.split("`"),w=o.length==1?o[0]:o.length==3?o[1]:"",w.toLowerCase()==i.toLowerCase()))return}catch(ut){}}s=[];u&&s.push({author:"user",text:u});r&&s.push({author:"bot",text:r});b&&s.length!=0&&CIB.registerContext(s);k&&f&&!CIB.manager.conversation._lastMessage&&!CIB.manager.conversation.messages.length?CIB.sendSearchQuery(i):CIB.addMessage(i);n.lastQuery=i;n.firstQuery.length==0&&(n.firstQuery=i)}}function wi(n,t,i){return i===void 0&&(i="POST"),new Promise(function(r,u){var f=sj_gx();f.onreadystatechange=function(){f.readyState===4&&(f.status===200?r(f):u(f))};f.onerror=function(){u(f)};f.open(i,n,!0);f.setRequestHeader("content-type","application/json");f.send(t)})}function ee(n){return wi(n,"","GET").then(function(n){return Promise.resolve(JSON.parse(n.response))})["catch"](function(n){return Promise.reject(n)})}function oe(n){var u,f,i,r;return n?(i=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.tigerEnhancedPromptTemplate,""),!i)?n:(i=i.replace("{0}",n),r=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.language,""),r&&r.indexOf("English")<0&&(i+=" Respond in language "+r),i):n}function bi(){var n,t=new URLSearchParams(_w===null||_w===void 0?void 0:_w.location.search);return t.has("form")&&((n=t.get("form"))===null||n===void 0?void 0:n.toLowerCase())==="convaj"&&_w._isConvAjaxUpdated}function se(){var n,t,i=(t=(n=_d.querySelector("cib-serp"))===null||n===void 0?void 0:n.shadowRoot)===null||t===void 0?void 0:t.querySelector("cib-background");i&&(i.style.height="100%",i.style.width="100%")}function he(){var n,t,i,r,u,f,e=(f=(u=(r=(i=(t=(n=_d.querySelector("cib-serp"))===null||n===void 0?void 0:n.shadowRoot)===null||t===void 0?void 0:t.querySelector("cib-conversation"))===null||i===void 0?void 0:i.shadowRoot)===null||r===void 0?void 0:r.querySelector("cib-welcome-container"))===null||u===void 0?void 0:u.shadowRoot)===null||f===void 0?void 0:f.querySelector(".muid-upsell");e&&(e.style.display="none")}var ki="sydneyOptionsSets",di="codexFeatures",gi="speechSrOptions",l="Creative",r="Balanced",p="Precise",tt=5,nr=2,tr=2e3,ir=750,at=48,rr=42,ur=16,fr=6,vt=60,er=66,or=1e3,sr="so_bing_chat",yt="seltone",hr="twoTFeatures",cr="SydAddCarousel",pt,w;n.SYD_MODE="SydMode";n.SYD_PREV_MODE="SydPrevMode";n.lastQuery=(n===null||n===void 0?void 0:n.lastQuery)?n===null||n===void 0?void 0:n.lastQuery:"";n.firstQuery="";n.ignoreFirstOffStage=!1;n.shouldResetBotGreeting=!0;n.shouldForceSendBotGreeting=!1;pt="shareId";n.userCook="SRCHHPGUSR";n.toneCook="CDXTC";n.toneCrumb="cdxtone";n.toneOptsCrumb="cdxtoneopts";w="InitialTone";n.hasSetToneCrumb="cdxts";var lr="crtone",ar="cdxwinturn",vr="ADLT",b="MUID",wt="CMUID",yr="CMUIDBCE",pr=["chips","query","searchQuery","text"],it="<stripped/>",bt="cdxModalVisible",wr="aad",k="",d="",kt=!1,dt=!1,gt=!0,rt=wt,ut=!1,f={System:"SystemEvent",Interaction:"InteractionEvent"},i={Creative:"h3imaginative",Balanced:"harmonyv3",Precise:"h3precise"},g={c:"Creative",b:"Balanced",p:"Precise"},s={Creative:[],Balanced:[],Precise:[]},h="",ni=!1,nt={Off:"1",Demote:"2",Strict:"4",KidSafe:"8",Stricter:"16",AdultOnly:"32"};n.isSydFSCEligible=n.isSydFSCEligible?n.isSydFSCEligible:!1;n.isConfigSet=!1;n.enableCreatorSendQueryWhenShowConvQuery=!0;n.padding2TMobile=92;n.MIN_WIDTH_MOBILE=288;n.enableConvModeSwitchAjax=!1;n.setConfigs=br;n.setColorScheme=dr;n.getMobileBrowserWidth=ii;n.getMobileBrowserHeight=ri;n.getCookieTone=a;n.updateResponseToneAfterSerp=tf;n.getConfigOrDefault=t;n.getAllowedToneOptionsSets=sf;n.SydLog=e;n.LogIntEvent=si;n.setupHistory=cf;n.pushSydHistory=lf;n.updateConvFlagInURL=hi;n.updateConvPageTitle=af;n.checkInitialState=vf;n.setEventListeners=yf;n.getActiveSuggestionChipText=pf;n.processCachedResponseUsingCIB=wf;n.triggerSydFSC=li;n.getQuery=y;n.triggerShareFlow=bf;n.triggerSydFSCWithContext=ai;n.triggerSydFSCQueryWithContext=kf;n.setSydFSCEligibleState=df;n.sydPayWallTrace=gf;n.triggerClarity=ne;n.shouldMove1TAnswers=te;n.addCarousel=ie;n.removeQueries=vi;n.set2TQueryConfigs=lt;n.retrieveClientWidthAndHeightAndSet2TQueryConfig=pi;n.sendFirstQuery=fe;n.createRequest=wi;n.getJsonData=ee;n.createIntelligentQuery=oe;n.isSmoothConvSwitchUpdatedPage=bi;n.updateChatBackgroundWidth=se;n.hideSignInUpsellFor3P=he;sj_evt.fire("SydFSCHelperLoaded")})(SydFSCHelper||(SydFSCHelper={}))