(function(){function et(u){var s=SydFSCHelper.isSydFSCEligible,e;SydFSCHelper.sydPayWallTrace("handleClickForWebScope",s);e=f!=1?_ge(o):t;s&&(e&&Lib.CssClass.contains(e,n)||r&&Lib.CssClass.contains(r,n)||k&&w&&Lib.CssClass.contains(w,n))&&(SydFSCHelper.LogIntEvent("ConversationViewExit","Scope",{source:"ClickTab",target:_G[SydFSCHelper.SYD_PREV_MODE]}),sj_evt.fire("hideSydFSC"));e&&Lib.CssClass.remove(e,n);r&&Lib.CssClass.remove(r,n);i&&Lib.CssClass.add(i,n);sj_pd(u);sj_sp(u)}function h(r){var f,u;b&&sj_cook&&(f=sj_cook.get("SRCHHPGUSR","ADLT"),f=="STRICT"&&(_w.location.href="/chat",sj_pd(r),sj_sp(r)));u=SydFSCHelper.isSydFSCEligible;SydFSCHelper.sydPayWallTrace("handleClickForWebScope",u);u?t&&!Lib.CssClass.contains(t,n)&&(i&&Lib.CssClass.remove(i,n),k&&sj_evt.fire("switchToConversation"),Lib.CssClass.add(t,n),SydFSCHelper.triggerSydFSCQueryWithContext(),SydFSCHelper.LogIntEvent("ConversationViewEnter","Scope",{source:"ClickTab"})):(SydFSCHelper.LogIntEvent("ConvesationPayWallEnter","Scope",{source:"ClickTab",tab:"conv"}),sj_evt.fire("showSydFSC"));sj_pd(r);sj_sp(r)}function ot(n){nt&&ct();g&&ht(n);d&&st(n)}function st(n){var u=_ge("sb_form_q"),i="WRK2MN",t,r;e&&(t=u.value,r=t?"/search?FORM=".concat(i,"&q=")+t:"?FORM=".concat(i),window.open(r,"_blank"),sj_pd(n),sj_sp(n))}function ht(n){e&&(sj_evt.fire("hideSydFSC"),sj_pd(n),sj_sp(n))}function ct(){e?SydFSCHelper.LogIntEvent("ClickLogoConvMode","Scope",{source:"ClickLogo",target:_G[SydFSCHelper.SYD_PREV_MODE]}):SydFSCHelper.LogIntEvent("ClickLogoSerpMode","Scope",{source:"ClickLogo"})}function lt(t){var f,u;b&&sj_cook&&(f=sj_cook.get("SRCHHPGUSR","ADLT"),f=="STRICT"&&(_w.location.href="/chat",sj_pd(t),sj_sp(t)));u=SydFSCHelper.isSydFSCEligible;SydFSCHelper.sydPayWallTrace("handleClickForWebScope",u);u?r&&!Lib.CssClass.contains(r,n)&&(i&&Lib.CssClass.remove(i,n),Lib.CssClass.add(r,n),SydFSCHelper.triggerSydFSCQueryWithContext(),SydFSCHelper.LogIntEvent("ConversationViewEnter","PinnedHeader",{source:"ChatButton"})):(SydFSCHelper.LogIntEvent("ConvesationPayWallEnter","Scope",{source:"ChatButton",tab:"conv"}),sj_evt.fire("showSydFSC"));sj_pd(t);sj_sp(t)}function at(){var u=_d.querySelector("#b-scopeListItem-web a"),n=_d.querySelector("#b-scopeListItem-conv a"),f=_d.querySelectorAll(".b_scopebar >ul >li");if(u&&n&&i&&t){var e=f[1],o=e.querySelector(" a"),s=o.offsetLeft-i.offsetLeft,h=n.offsetWidth,r=sj_ce("style");r.textContent="\n               .b_sydConvMode .b_scopebar #b-scopeListItem-web::after {\n                   width: ".concat(h,"px;\n                   transform: translateX(").concat(s,"px);\n               }\n            ");sj_b.appendChild(r)}}function it(){sj_ue(u?u:t,"click",h);t=_ge(o);u=t&&t.querySelector("a");sj_be(u?u:t,"click",h)}function rt(){e||(e=!0,p=!1,ft(!1))}function ut(){p||(p=!0,e=!1,ft(!0))}function ft(t){var i,r,u;if(f!==1&&(i=_d.querySelectorAll(".b_scopebar >ul >li"),i&&i.length>2)){if(f===-1&&yt(i),f===-1||f===1)return;r=i[1];u=i[f];u&&Lib.CssClass.remove(u,n);t&&r&&Lib.CssClass.remove(r,n);vt(u,r)}}function vt(n,t){pt(n,t);var i=_d.querySelector("#b-scopeListItem-conv a");sj_be(i,"click",h)}function yt(n){for(var t=0;t<n.length;t++)if(n[t].id===o){f=t;break}}function pt(n,t){var i=n.innerHTML,r=n.id;n.innerHTML=t.innerHTML;n.id=t.id;t.innerHTML=i;t.id=r}var c,l,a,v,y,o="b-scopeListItem-conv",n="b_active",i=_ge("b-scopeListItem-web"),t=_ge(o),u=t&&t.querySelector("a"),w=_ge("b-scopeListItem-notebook"),r=_ge("b_phead_chat"),b=SydFSCHelper.getConfigOrDefault((c=_w._sydConvConfig)===null||c===void 0?void 0:c.enableSydStrictRedirect,!1),k=SydFSCHelper.getConfigOrDefault((l=_w._sydConvConfig)===null||l===void 0?void 0:l.enableNotebookMode,!1),f=-1,e=!1,p=!1,d=((a=_G===null||_G===void 0?void 0:_G.EF)===null||a===void 0?void 0:a.newtabserpforchat)===1,g=((v=_G===null||_G===void 0?void 0:_G.EF)===null||v===void 0?void 0:v.backserpforchat)===1,nt=((y=_G===null||_G===void 0?void 0:_G.EF)===null||y===void 0?void 0:y.logforctl)===1,s,tt;t&&i&&(at(),sj_be(i,"click",et),sj_be(u?u:t,"click",h),sj_be(r,"click",lt),(d||g||nt)&&(s=_ge("b_header"),tt=s===null||s===void 0?void 0:s.querySelector(".b_logoArea"),sj_be(tt,"click",ot)),sj_evt.unbind("showSydFSC",rt),sj_evt.bind("showSydFSC",rt,1),sj_evt.unbind("hideSydFSC",ut),sj_evt.bind("hideSydFSC",ut,1),sj_evt.unbind("dynamicchatscoperelocate",it),sj_evt.bind("dynamicchatscoperelocate",it,1))})()